"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateacfun_evolved"]("AcFun_Evolved",{

/***/ "./src/core/services/Clock.ts":
/*!************************************!*\
  !*** ./src/core/services/Clock.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_Logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/Logger */ \"./src/core/api/Logger.ts\");\n\nvar Clock = /** @class */ (function () {\n    function Clock() {\n        this.runtimeDate = null;\n        this.sunriseTime = \"06:00\";\n        this.sunsetTime = \"18:00\";\n    }\n    Clock.prototype.start = function () {\n        _api_Logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].info({ message: 'ClockService is starting...' });\n        this.runtimeDate = new Date();\n    };\n    Clock.prototype.stop = function () {\n        this.runtimeDate = null;\n        _api_Logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].info({ message: 'ClockService is stopping...' });\n    };\n    Clock.prototype.now = function () {\n        return this.runtimeDate;\n    };\n    Clock.prototype.getTimestamp = function () {\n        var _a;\n        return (_a = this.runtimeDate) === null || _a === void 0 ? void 0 : _a.getTime();\n    };\n    Clock.prototype.isNight = function () {\n        var now = new Date();\n        var currentTime = now.getHours() + ':' + now.getMinutes().toString().padStart(2, '0');\n        var sunriseDate = new Date(now.toDateString() + ' ' + this.sunriseTime);\n        var sunsetDate = new Date(now.toDateString() + ' ' + this.sunsetTime);\n        var currentDate = new Date(now.toDateString() + ' ' + currentTime);\n        return currentDate >= sunsetDate || currentDate <= sunriseDate;\n    };\n    ;\n    Clock.prototype.toReadableTime = function (_a) {\n        var _b;\n        var timestamp = _a.timestamp;\n        var now = ((_b = this.runtimeDate) === null || _b === void 0 ? void 0 : _b.getTime()) || Date.now();\n        var diffInMs = now - timestamp;\n        var diffInSec = diffInMs / 1000;\n        var diffInMin = diffInSec / 60;\n        var diffInHours = diffInMin / 60;\n        var diffInDays = diffInHours / 24;\n        if (diffInDays >= 7) {\n            // 超过7天，显示完整日期时间\n            var date = new Date(timestamp);\n            var options = {\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: true\n            };\n            return date.toLocaleString('en-US', options);\n        }\n        else if (diffInDays >= 1) {\n            // 1天以上，7天以内，显示几天前\n            var days = Math.floor(diffInDays);\n            return \"\".concat(days, \" day\").concat(days > 1 ? 's' : '', \" ago\");\n        }\n        else if (diffInHours >= 1) {\n            // 1天以内，显示几小时前\n            var hours = Math.floor(diffInHours);\n            return \"\".concat(hours, \" hour\").concat(hours > 1 ? 's' : '', \" ago\");\n        }\n        else {\n            return 'Just now'; // 如果时间差小于1小时，你可以选择显示 \"Just now\" 或其他信息\n        }\n    };\n    return Clock;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Clock());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS9zZXJ2aWNlcy9DbG9jay50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsbURBQU0sUUFBUSx3Q0FBd0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1EQUFNLFFBQVEsd0NBQXdDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlFQUFlLFdBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FjZnVuX2V2b2x2ZWQvLi9zcmMvY29yZS9zZXJ2aWNlcy9DbG9jay50cz9hZmMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2FwaS9Mb2dnZXJcIjtcbnZhciBDbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDbG9jaygpIHtcbiAgICAgICAgdGhpcy5ydW50aW1lRGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3VucmlzZVRpbWUgPSBcIjA2OjAwXCI7XG4gICAgICAgIHRoaXMuc3Vuc2V0VGltZSA9IFwiMTg6MDBcIjtcbiAgICB9XG4gICAgQ2xvY2sucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2dnZXIuaW5mbyh7IG1lc3NhZ2U6ICdDbG9ja1NlcnZpY2UgaXMgc3RhcnRpbmcuLi4nIH0pO1xuICAgICAgICB0aGlzLnJ1bnRpbWVEYXRlID0gbmV3IERhdGUoKTtcbiAgICB9O1xuICAgIENsb2NrLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJ1bnRpbWVEYXRlID0gbnVsbDtcbiAgICAgICAgTG9nZ2VyLmluZm8oeyBtZXNzYWdlOiAnQ2xvY2tTZXJ2aWNlIGlzIHN0b3BwaW5nLi4uJyB9KTtcbiAgICB9O1xuICAgIENsb2NrLnByb3RvdHlwZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bnRpbWVEYXRlO1xuICAgIH07XG4gICAgQ2xvY2sucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5ydW50aW1lRGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFRpbWUoKTtcbiAgICB9O1xuICAgIENsb2NrLnByb3RvdHlwZS5pc05pZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbm93LmdldEhvdXJzKCkgKyAnOicgKyBub3cuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgdmFyIHN1bnJpc2VEYXRlID0gbmV3IERhdGUobm93LnRvRGF0ZVN0cmluZygpICsgJyAnICsgdGhpcy5zdW5yaXNlVGltZSk7XG4gICAgICAgIHZhciBzdW5zZXREYXRlID0gbmV3IERhdGUobm93LnRvRGF0ZVN0cmluZygpICsgJyAnICsgdGhpcy5zdW5zZXRUaW1lKTtcbiAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUobm93LnRvRGF0ZVN0cmluZygpICsgJyAnICsgY3VycmVudFRpbWUpO1xuICAgICAgICByZXR1cm4gY3VycmVudERhdGUgPj0gc3Vuc2V0RGF0ZSB8fCBjdXJyZW50RGF0ZSA8PSBzdW5yaXNlRGF0ZTtcbiAgICB9O1xuICAgIDtcbiAgICBDbG9jay5wcm90b3R5cGUudG9SZWFkYWJsZVRpbWUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iO1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gX2EudGltZXN0YW1wO1xuICAgICAgICB2YXIgbm93ID0gKChfYiA9IHRoaXMucnVudGltZURhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXRUaW1lKCkpIHx8IERhdGUubm93KCk7XG4gICAgICAgIHZhciBkaWZmSW5NcyA9IG5vdyAtIHRpbWVzdGFtcDtcbiAgICAgICAgdmFyIGRpZmZJblNlYyA9IGRpZmZJbk1zIC8gMTAwMDtcbiAgICAgICAgdmFyIGRpZmZJbk1pbiA9IGRpZmZJblNlYyAvIDYwO1xuICAgICAgICB2YXIgZGlmZkluSG91cnMgPSBkaWZmSW5NaW4gLyA2MDtcbiAgICAgICAgdmFyIGRpZmZJbkRheXMgPSBkaWZmSW5Ib3VycyAvIDI0O1xuICAgICAgICBpZiAoZGlmZkluRGF5cyA+PSA3KSB7XG4gICAgICAgICAgICAvLyDotoXov4c35aSp77yM5pi+56S65a6M5pW05pel5pyf5pe26Ze0XG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICBkYXk6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgaG91cjEyOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlmZkluRGF5cyA+PSAxKSB7XG4gICAgICAgICAgICAvLyAx5aSp5Lul5LiK77yMN+WkqeS7peWGhe+8jOaYvuekuuWHoOWkqeWJjVxuICAgICAgICAgICAgdmFyIGRheXMgPSBNYXRoLmZsb29yKGRpZmZJbkRheXMpO1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGRheXMsIFwiIGRheVwiKS5jb25jYXQoZGF5cyA+IDEgPyAncycgOiAnJywgXCIgYWdvXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpZmZJbkhvdXJzID49IDEpIHtcbiAgICAgICAgICAgIC8vIDHlpKnku6XlhoXvvIzmmL7npLrlh6DlsI/ml7bliY1cbiAgICAgICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IoZGlmZkluSG91cnMpO1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGhvdXJzLCBcIiBob3VyXCIpLmNvbmNhdChob3VycyA+IDEgPyAncycgOiAnJywgXCIgYWdvXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdKdXN0IG5vdyc7IC8vIOWmguaenOaXtumXtOW3ruWwj+S6jjHlsI/ml7bvvIzkvaDlj6/ku6XpgInmi6nmmL7npLogXCJKdXN0IG5vd1wiIOaIluWFtuS7luS/oeaBr1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2xvY2s7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgbmV3IENsb2NrKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/core/services/Clock.ts\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("dcd3a2af125113781bd8")
/******/ })();
/******/ 
/******/ }
);