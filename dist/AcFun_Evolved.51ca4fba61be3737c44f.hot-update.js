"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateacfun_evolved"]("AcFun_Evolved",{

/***/ "./src/core/api/PluginToolkit.ts":
/*!***************************************!*\
  !*** ./src/core/api/PluginToolkit.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Preferences__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Preferences */ \"./src/core/api/Preferences.ts\");\n/* harmony import */ var _Security__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Security */ \"./src/core/api/Security.ts\");\n/* harmony import */ var _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../plugins/ACEV2Toast */ \"./src/plugins/ACEV2Toast.ts\");\n/* harmony import */ var _plugins_ACEV2Dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../plugins/ACEV2Dialog */ \"./src/plugins/ACEV2Dialog.ts\");\n/* harmony import */ var _I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./I18n */ \"./src/core/api/I18n.ts\");\n/* harmony import */ var _services_ACEV2Storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/ACEV2Storage */ \"./src/core/services/ACEV2Storage.ts\");\n/* harmony import */ var _plugins_ACEV2Loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../plugins/ACEV2Loader */ \"./src/plugins/ACEV2Loader.ts\");\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Logger */ \"./src/core/api/Logger.ts\");\n/* harmony import */ var _ACEV2URL__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ACEV2URL */ \"./src/core/api/ACEV2URL.ts\");\n/* harmony import */ var _Supervisor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Supervisor */ \"./src/core/api/Supervisor.ts\");\n/* harmony import */ var _plugins_PluginStore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../plugins/PluginStore */ \"./src/plugins/PluginStore.ts\");\n/* harmony import */ var _plugins_DebugBridge__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../plugins/DebugBridge */ \"./src/plugins/DebugBridge.ts\");\n/* harmony import */ var pako__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! pako */ \"./node_modules/pako/dist/pako.esm.mjs\");\n/* harmony import */ var untar_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! untar.js */ \"./node_modules/untar.js/lib/untar.js\");\n/* harmony import */ var _ACEV2DOM__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ACEV2DOM */ \"./src/core/api/ACEV2DOM.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PluginToolkit = /** @class */ (function () {\n    function PluginToolkit() {\n        this.tombstones = [];\n        this.apiImplementations = {\n            showDialog: function (_a) {\n                var title = _a.title, content = _a.content, okAction = _a.okAction, cancelAction = _a.cancelAction;\n                return _plugins_ACEV2Dialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showDialog({ title: title, content: content, okAction: okAction, cancelAction: cancelAction });\n            },\n            showToast: function (_a) {\n                var text = _a.text;\n                return _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: text });\n            },\n            aceLog: {\n                info: function (_a) {\n                    var message = _a.message;\n                    return _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].info({ message: message });\n                },\n                success: function (_a) {\n                    var message = _a.message;\n                    return _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].success({ message: message });\n                },\n                warn: function (_a) {\n                    var message = _a.message;\n                    return _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].warn({ message: message });\n                },\n                error: function (_a) {\n                    var message = _a.message;\n                    return _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({ message: message });\n                }\n            },\n            isDarkMode: function () { return _Preferences__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isDarkMode(); },\n            ACEV2DOM: {\n                injectHTML: function (_a) {\n                    var HTMLCode = _a.HTMLCode;\n                    return _ACEV2DOM__WEBPACK_IMPORTED_MODULE_14__[\"default\"].injectHTML({ HTMLCode: HTMLCode });\n                },\n                removeHTML: function (_a) {\n                    var tracker = _a.tracker;\n                    return _ACEV2DOM__WEBPACK_IMPORTED_MODULE_14__[\"default\"].removeElement({ tracker: tracker });\n                }\n            }\n        };\n    }\n    PluginToolkit.prototype.installPlugin = function (_a) {\n        return __awaiter(this, arguments, void 0, function (_b) {\n            var psvResult, e_1, installedPlugins, existingPluginIndex, installedPlugins;\n            var pluginPack = _b.pluginPack, bridged = _b.bridged;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        psvResult = false;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 5, , 6]);\n                        if (!(_Preferences__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPreference({ category: 'developer', k: 'psv' }) !== 'none')) return [3 /*break*/, 3];\n                        return [4 /*yield*/, _Security__WEBPACK_IMPORTED_MODULE_1__[\"default\"].psv({ signature: pluginPack.signature, pluginSelf: pluginPack.self })];\n                    case 2:\n                        psvResult = _c.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        psvResult = true;\n                        _c.label = 4;\n                    case 4: return [3 /*break*/, 6];\n                    case 5:\n                        e_1 = _c.sent();\n                        _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'psv-check-failed-installation-denied' }) });\n                        return [3 /*break*/, 6];\n                    case 6:\n                        if (!psvResult) {\n                            _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: \"\\u5B89\\u88C5\\u88AB\\u62D2\\u7EDD, \\u6B64\\u63D2\\u4EF6\\u300C\".concat(pluginPack.manifest.id, \"\\u300D\\u672A\\u901A\\u8FC7PSV\\u68C0\\u67E5\\u3002\") });\n                            return [2 /*return*/];\n                        }\n                        if (this.checkIfInstalled({ pluginPack: pluginPack })) {\n                            _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: \"\\u5B89\\u88C5\\u88AB\\u62D2\\u7EDD, \\u6B64\\u63D2\\u4EF6\\u300C\".concat(pluginPack.manifest.id, \"\\u300D\\u5DF2\\u7ECF\\u5B89\\u88C5\\u3002\") });\n                            return [2 /*return*/];\n                        }\n                        if (bridged) {\n                            installedPlugins = this.getInstalledPlugins();\n                            pluginPack.enabled = true;\n                            pluginPack.manifest.bridged = true;\n                            existingPluginIndex = installedPlugins.findIndex(function (plugin) { return plugin.manifest.id === pluginPack.manifest.id; });\n                            if (existingPluginIndex !== -1) {\n                                installedPlugins[existingPluginIndex] = pluginPack;\n                            }\n                            else {\n                                installedPlugins.push(pluginPack);\n                            }\n                            this.saveInstalledPlugins({ installedPlugins: installedPlugins });\n                        }\n                        else {\n                            installedPlugins = this.getInstalledPlugins();\n                            pluginPack.enabled = true;\n                            installedPlugins.push(pluginPack);\n                            this.saveInstalledPlugins({ installedPlugins: installedPlugins });\n                            _plugins_ACEV2Dialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showDialog({\n                                title: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'installation-succeed' }),\n                                content: \"\\u6B64\\u63D2\\u4EF6\\u300C\".concat(pluginPack.manifest.id, \"\\u300D\\u5DF2\\u88AB\\u5B89\\u88C5\\uFF0C\\u6309\\u4E0B\\u300C\\u597D\\u300D\\u540E\\u5C06\\u5237\\u65B0\\u9875\\u9762\\u4EE5\\u8F7D\\u5165\\u63D2\\u4EF6\\u3002\"),\n                                okAction: function () {\n                                    location.reload();\n                                }\n                            });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PluginToolkit.prototype.uninstallPlugin = function (_a) {\n        var manifest = _a.manifest;\n        var id = manifest.id;\n        _plugins_ACEV2Loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"].draw();\n        try {\n            var installedPlugins = this.getInstalledPlugins();\n            var newInstalledPlugins = installedPlugins.filter(function (installedPlugin) { return installedPlugin.manifest.id !== id; });\n            this.saveInstalledPlugins({ installedPlugins: newInstalledPlugins });\n            _plugins_ACEV2Dialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showDialog({\n                title: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'uninstallation-succeed' }),\n                content: \"\\u63D2\\u4EF6\\u300C\".concat(id, \"\\u300D\\u5378\\u8F7D\\u5B8C\\u6210\\uFF0C\\u70B9\\u51FB\\u300C\\u597D\\u300D\\u4EE5\\u5237\\u65B0\\u9875\\u9762\\u3002\"),\n                okAction: function () { return location.reload(); }\n            });\n        }\n        catch (e) {\n            _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: \"\\u63D2\\u4EF6\\u89E3\\u9664\\u5B89\\u88C5\\u5931\\u8D25\\uFF0C\\u5728\\u5C1D\\u8BD5\\u89E3\\u9664\\u5B89\\u88C5\\u63D2\\u4EF6\\u300C\".concat(id, \"\\u300D\\u65F6\\u51FA\\u73B0\\u9519\\u8BEF\\uFF0C\\u8BF7\\u518D\\u8BD5\\u4E00\\u6B21\\u3002\") });\n            _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({ message: JSON.stringify(e) });\n        }\n        _plugins_ACEV2Loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"].destroy();\n    };\n    PluginToolkit.prototype.uninstallBridgedPlugin = function () {\n        var installedPlugins = this.getInstalledPlugins();\n        var bridgedPlugins = installedPlugins.filter(function (i) { return i.manifest.bridged === true; });\n        if (bridgedPlugins.length !== 0) {\n            var id_1 = bridgedPlugins[0].manifest.id;\n            if (id_1) {\n                try {\n                    var installedPlugins_1 = this.getInstalledPlugins();\n                    var newInstalledPlugins = installedPlugins_1.filter(function (installedPlugin) { return installedPlugin.manifest.id !== id_1; });\n                    this.saveInstalledPlugins({ installedPlugins: newInstalledPlugins });\n                    _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].success({ message: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'uninstalled-bridged-plugin' }) + id_1 });\n                    _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'uninstalled-bridged-plugin' }) + id_1 + _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'please-reload-page' }) });\n                }\n                catch (e) {\n                    _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'uninstall-bridged-plugin-failed' }) + id_1 + _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'please-try-again' }) });\n                    _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({ message: JSON.stringify(e) });\n                }\n            }\n        }\n    };\n    PluginToolkit.prototype.checkIfInstalled = function (_a) {\n        var pluginPack = _a.pluginPack;\n        var installedPlugins = this.getInstalledPlugins();\n        var isInstalled = false;\n        installedPlugins.forEach(function (installedPlugin) {\n            if (installedPlugin.manifest.id === pluginPack.manifest.id) {\n                isInstalled = true;\n            }\n        });\n        return isInstalled;\n    };\n    PluginToolkit.prototype.getInstalledPlugins = function () {\n        var installedPlugins = _services_ACEV2Storage__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getPlugins();\n        if (!installedPlugins) {\n            installedPlugins = [];\n            this.saveInstalledPlugins({ installedPlugins: installedPlugins });\n        }\n        return installedPlugins;\n    };\n    PluginToolkit.prototype.saveInstalledPlugins = function (_a) {\n        var installedPlugins = _a.installedPlugins;\n        _services_ACEV2Storage__WEBPACK_IMPORTED_MODULE_5__[\"default\"].updatePluginsStorage({ newPlugins: installedPlugins });\n    };\n    PluginToolkit.prototype.getSelfPreference = function (_a) {\n        var manifest = _a.manifest;\n        var installedPlugins = this.getInstalledPlugins();\n        var targetPlugin = installedPlugins.find(function (installedPlugin) { return installedPlugin.manifest.id === manifest.id; });\n        return targetPlugin.manifest.settings;\n    };\n    PluginToolkit.prototype.saveSelfPreference = function (_a) {\n        var manifest = _a.manifest, settings = _a.settings;\n        var installedPlugins = this.getInstalledPlugins();\n        var targetPlugin = installedPlugins.find(function (installedPlugin) { return installedPlugin.manifest.id === manifest.id; });\n        targetPlugin.manifest.settings = settings;\n        this.saveInstalledPlugins({ installedPlugins: installedPlugins });\n    };\n    PluginToolkit.prototype.initializePluginExecutionAndSetTrigger = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var installedPlugins, __tombstones, _loop_1, _i, installedPlugins_2, installedPlugin;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        installedPlugins = this.getInstalledPlugins();\n                        __tombstones = [];\n                        if (installedPlugins.length === 0)\n                            return [2 /*return*/];\n                        _loop_1 = function (installedPlugin) {\n                            var self_1, manifest, allApisDefined, args, filteredArgs;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        if (!installedPlugin.enabled)\n                                            return [2 /*return*/, \"continue\"];\n                                        self_1 = installedPlugin.self, manifest = installedPlugin.manifest;\n                                        allApisDefined = true;\n                                        return [4 /*yield*/, Promise.all(manifest.requestedAPIs.map(function (apiName) { return __awaiter(_this, void 0, void 0, function () {\n                                                return __generator(this, function (_a) {\n                                                    if (this.apiImplementations[apiName]) {\n                                                        return [2 /*return*/, { name: apiName, target: this.apiImplementations[apiName] }];\n                                                    }\n                                                    else {\n                                                        _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({ message: \"Error loading plugin tombstone \".concat(manifest.id, \", cannot resolve API \").concat(apiName, \" of undefined.\") });\n                                                        _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: \"\\u63D2\\u4EF6\\u300C\".concat(manifest.id, \"\\u300D\\u8BF7\\u6C42\\u4E86\\u4E00\\u4E2A\\u672A\\u5B9A\\u4E49\\u7684API\\u300C\").concat(apiName, \"\\u300D\\uFF0C\\u56E0\\u6B64\\u62D2\\u7EDD\\u8F7D\\u5165\\u6B64\\u63D2\\u4EF6\\u3002\") });\n                                                        allApisDefined = false;\n                                                        return [2 /*return*/, undefined];\n                                                    }\n                                                    return [2 /*return*/];\n                                                });\n                                            }); }))];\n                                    case 1:\n                                        args = _b.sent();\n                                        if (!allApisDefined)\n                                            return [2 /*return*/, \"continue\"];\n                                        filteredArgs = args.filter(function (arg) { return arg !== undefined; });\n                                        if (filteredArgs.length === manifest.requestedAPIs.length) {\n                                            try {\n                                                __tombstones.push({\n                                                    self: self_1,\n                                                    manifest: manifest,\n                                                    args: filteredArgs,\n                                                    executed: false\n                                                });\n                                            }\n                                            catch (error) {\n                                                _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({ message: \"Error creating plugin tombstone \".concat(manifest.id, \": \").concat(JSON.stringify(error)) });\n                                                _plugins_ACEV2Dialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showDialog({\n                                                    title: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'request-reload' }),\n                                                    content: \"\\u63D2\\u4EF6\\u8F7D\\u5165\\u5668\\u5728\\u751F\\u6210\\u63D2\\u4EF6\\u300C\".concat(manifest.id, \"\\u300D\\u7684\\u5893\\u7891\\u4E2D\\u51FA\\u73B0\\u9519\\u8BEF\").concat(error, \"\\uFF0C\\u56E0\\u6B64AcFun Evolved\\u5DF2\\u4E2D\\u6B62\\u8FD0\\u884C\\uFF0C\\u6309\\u4E0B\\u300C\\u597D\\u300D\\u4EE5\\u91CD\\u65B0\\u542F\\u52A8AcFun Evolved.\"),\n                                                    okAction: function () { return location.reload(); }\n                                                });\n                                            }\n                                        }\n                                        return [2 /*return*/];\n                                }\n                            });\n                        };\n                        _i = 0, installedPlugins_2 = installedPlugins;\n                        _a.label = 1;\n                    case 1:\n                        if (!(_i < installedPlugins_2.length)) return [3 /*break*/, 4];\n                        installedPlugin = installedPlugins_2[_i];\n                        return [5 /*yield**/, _loop_1(installedPlugin)];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4:\n                        this.tombstones = __tombstones;\n                        return [4 /*yield*/, this.ferryman()];\n                    case 5:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ;\n    PluginToolkit.prototype.ferryman = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var executeTombstones;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        executeTombstones = function (_a) { return __awaiter(_this, [_a], void 0, function (_b) {\n                            var __tombstones, _i, __tombstones_1, tombstone, self_2, args, manifest, requiredPatterns, isMatch, targetFunction;\n                            var _this = this;\n                            var currentUrl = _b.currentUrl;\n                            return __generator(this, function (_c) {\n                                __tombstones = this.tombstones;\n                                for (_i = 0, __tombstones_1 = __tombstones; _i < __tombstones_1.length; _i++) {\n                                    tombstone = __tombstones_1[_i];\n                                    if (tombstone.executed)\n                                        continue;\n                                    self_2 = tombstone.self, args = tombstone.args, manifest = tombstone.manifest;\n                                    if (manifest.trigger.matches && manifest.trigger.matches.length > 0) {\n                                        requiredPatterns = manifest.trigger.matches.flatMap(function (key) { return _ACEV2URL__WEBPACK_IMPORTED_MODULE_8__.pageList[key] || []; });\n                                        isMatch = requiredPatterns.some(function (pattern) { return pattern.test(currentUrl); });\n                                        if (isMatch) {\n                                            try {\n                                                _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].info({ message: \"executed \".concat(manifest.id) });\n                                                targetFunction = new (Function.bind.apply(Function, __spreadArray(__spreadArray([void 0], args.map(function (arg) { return arg.name; }), false), ['manifest', 'getSelfPreference', self_2], false)))();\n                                                // const targetFunction = new Function(...args.map((arg: any) => arg.name), 'manifest', `(()=>{\"use strict\";(async()=>{console.log('-------------------')})();`);\n                                                targetFunction.apply(void 0, __spreadArray(__spreadArray([], args.map(function (arg) { return arg.target; }), false), [manifest, function (_a) {\n                                                        var manifest = _a.manifest;\n                                                        return _this.getSelfPreference({ manifest: manifest });\n                                                    }], false));\n                                                tombstone.executed = true;\n                                            }\n                                            catch (e) {\n                                                _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({ message: \"Error ferrying plugin \".concat(manifest.id, \": \").concat(JSON.stringify(e)) });\n                                                _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: \"\\u6446\\u6E21\\u4EBA\\u5728\\u6267\\u884C\\u63D2\\u4EF6\\u300C\".concat(manifest.id, \"\\u300D\\u4E2D\\u51FA\\u73B0\\u9519\\u8BEF\").concat(JSON.stringify(e), \"\\uFF0C\\u56E0\\u6B64\\u5DF2\\u4E2D\\u6B62\\u8FD0\\u884C\\u6B64\\u63D2\\u4EF6\\u3002\") });\n                                            }\n                                        }\n                                    }\n                                }\n                                this.tombstones = __tombstones;\n                                return [2 /*return*/];\n                            });\n                        }); };\n                        return [4 /*yield*/, executeTombstones({ currentUrl: window.location.href })];\n                    case 1:\n                        _a.sent();\n                        _Supervisor__WEBPACK_IMPORTED_MODULE_9__[\"default\"].urlChange(function (currentUrl) { return __awaiter(_this, void 0, void 0, function () {\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0: return [4 /*yield*/, executeTombstones({ currentUrl: currentUrl })];\n                                    case 1:\n                                        _a.sent();\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ;\n    PluginToolkit.prototype.wakeUpBuildInPlugins = function () {\n        if (_Preferences__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPreference({ category: 'developer', k: 'psv' }) !== 'full') {\n            _plugins_DebugBridge__WEBPACK_IMPORTED_MODULE_11__[\"default\"].wakeUp();\n        }\n        _plugins_PluginStore__WEBPACK_IMPORTED_MODULE_10__[\"default\"].wakeUp();\n    };\n    PluginToolkit.prototype.extractAndInstallPlugin = function (_a) {\n        var _this = this;\n        var compressedData = _a.compressedData;\n        _plugins_ACEV2Dialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showDialog({\n            title: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'wants-to-extract-and-install-plugin-package' }) }),\n            content: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'do-you-really-want-to-do-that' }),\n            okAction: function () { return __awaiter(_this, void 0, void 0, function () {\n                var decompressedArrayBuffer, files, rawObject, pack, err_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _plugins_ACEV2Loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"].draw();\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            decompressedArrayBuffer = pako__WEBPACK_IMPORTED_MODULE_12__[\"default\"].inflate(new Uint8Array(compressedData));\n                            if (!decompressedArrayBuffer.buffer) {\n                                _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'decompressed-data-does-not-contain-valid-buffer-property' }) });\n                                return [2 /*return*/];\n                            }\n                            files = (0,untar_js__WEBPACK_IMPORTED_MODULE_13__.untar)(decompressedArrayBuffer.buffer);\n                            if (!files || files.length === 0) {\n                                _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'no-files-extracted-from-the-compressed-data' }) });\n                                return [2 /*return*/];\n                            }\n                            rawObject = files[0];\n                            rawObject = new TextDecoder().decode(rawObject.fileData);\n                            pack = JSON.parse(rawObject);\n                            return [4 /*yield*/, this.installPlugin({ pluginPack: pack, bridged: false })];\n                        case 2:\n                            _a.sent();\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _a.sent();\n                            _Logger__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({ message: \"Error extracting and installing plugin package: \".concat(JSON.stringify(err_1)) });\n                            _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: _I18n__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t({ key: 'error-extracting-and-installing-plugin-package' }) });\n                            return [3 /*break*/, 4];\n                        case 4:\n                            _plugins_ACEV2Loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"].destroy();\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            cancelAction: function () { return _plugins_ACEV2Toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showToast({ text: 'canceled' }); }\n        });\n    };\n    ;\n    PluginToolkit.prototype.downloadAndInstallPluginPack = function (_a) {\n        return __awaiter(this, arguments, void 0, function (_b) {\n            var manifest = _b.manifest;\n            return __generator(this, function (_c) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    return PluginToolkit;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new PluginToolkit());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0Esc0VBQXNFLGtDQUFrQztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtDQUFNLFNBQVMsMkZBQTJGO0FBQ3RJLDRCQUE0QiwyREFBVSxhQUFhLE1BQU0sNkNBQUksS0FBSyx1REFBdUQsR0FBRztBQUM1SDtBQUNBO0FBQ0EsNEJBQTRCLDREQUFXO0FBQ3ZDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYSxJQUFJO0FBQ2pCLHdDQUF3QyxPQUFPLDJEQUFVLGFBQWEsa0JBQWtCO0FBQ3hGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCxpRUFBZSxtQkFBbUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FjZnVuX2V2b2x2ZWQvLi9zcmMvY29yZS9hcGkvUGx1Z2luVG9vbGtpdC50cz9mNmEzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbmltcG9ydCBQcmVmZXJlbmNlcyBmcm9tIFwiLi9QcmVmZXJlbmNlc1wiO1xuaW1wb3J0IFNlY3VyaXR5IGZyb20gXCIuL1NlY3VyaXR5XCI7XG5pbXBvcnQgQUNFVjJUb2FzdCBmcm9tIFwiLi4vLi4vcGx1Z2lucy9BQ0VWMlRvYXN0XCI7XG5pbXBvcnQgQUNFVjJEaWFsb2cgZnJvbSBcIi4uLy4uL3BsdWdpbnMvQUNFVjJEaWFsb2dcIjtcbmltcG9ydCBJMThuIGZyb20gXCIuL0kxOG5cIjtcbmltcG9ydCBBQ0VWMlN0b3JhZ2UgZnJvbSBcIi4uL3NlcnZpY2VzL0FDRVYyU3RvcmFnZVwiO1xuaW1wb3J0IEFDRVYyTG9hZGVyIGZyb20gXCIuLi8uLi9wbHVnaW5zL0FDRVYyTG9hZGVyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL0xvZ2dlclwiO1xuaW1wb3J0IHsgcGFnZUxpc3QgfSBmcm9tIFwiLi9BQ0VWMlVSTFwiO1xuaW1wb3J0IFN1cGVydmlzb3IgZnJvbSBcIi4vU3VwZXJ2aXNvclwiO1xuaW1wb3J0IFBsdWdpblN0b3JlIGZyb20gXCIuLi8uLi9wbHVnaW5zL1BsdWdpblN0b3JlXCI7XG5pbXBvcnQgRGVidWdCcmlkZ2UgZnJvbSBcIi4uLy4uL3BsdWdpbnMvRGVidWdCcmlkZ2VcIjtcbmltcG9ydCBwYWtvIGZyb20gXCJwYWtvXCI7XG5pbXBvcnQgeyB1bnRhciB9IGZyb20gXCJ1bnRhci5qc1wiO1xuaW1wb3J0IEFDRVYyRE9NIGZyb20gXCIuL0FDRVYyRE9NXCI7XG52YXIgUGx1Z2luVG9vbGtpdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQbHVnaW5Ub29sa2l0KCkge1xuICAgICAgICB0aGlzLnRvbWJzdG9uZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hcGlJbXBsZW1lbnRhdGlvbnMgPSB7XG4gICAgICAgICAgICBzaG93RGlhbG9nOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBfYS50aXRsZSwgY29udGVudCA9IF9hLmNvbnRlbnQsIG9rQWN0aW9uID0gX2Eub2tBY3Rpb24sIGNhbmNlbEFjdGlvbiA9IF9hLmNhbmNlbEFjdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gQUNFVjJEaWFsb2cuc2hvd0RpYWxvZyh7IHRpdGxlOiB0aXRsZSwgY29udGVudDogY29udGVudCwgb2tBY3Rpb246IG9rQWN0aW9uLCBjYW5jZWxBY3Rpb246IGNhbmNlbEFjdGlvbiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG93VG9hc3Q6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gX2EudGV4dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gQUNFVjJUb2FzdC5zaG93VG9hc3QoeyB0ZXh0OiB0ZXh0IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjZUxvZzoge1xuICAgICAgICAgICAgICAgIGluZm86IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IF9hLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMb2dnZXIuaW5mbyh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBfYS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTG9nZ2VyLnN1Y2Nlc3MoeyBtZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgd2FybjogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gX2EubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExvZ2dlci53YXJuKHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBfYS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNEYXJrTW9kZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJlZmVyZW5jZXMuaXNEYXJrTW9kZSgpOyB9LFxuICAgICAgICAgICAgQUNFVjJET006IHtcbiAgICAgICAgICAgICAgICBpbmplY3RIVE1MOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIEhUTUxDb2RlID0gX2EuSFRNTENvZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBQ0VWMkRPTS5pbmplY3RIVE1MKHsgSFRNTENvZGU6IEhUTUxDb2RlIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlSFRNTDogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFja2VyID0gX2EudHJhY2tlcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFDRVYyRE9NLnJlbW92ZUVsZW1lbnQoeyB0cmFja2VyOiB0cmFja2VyIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgUGx1Z2luVG9vbGtpdC5wcm90b3R5cGUuaW5zdGFsbFBsdWdpbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIGFyZ3VtZW50cywgdm9pZCAwLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHZhciBwc3ZSZXN1bHQsIGVfMSwgaW5zdGFsbGVkUGx1Z2lucywgZXhpc3RpbmdQbHVnaW5JbmRleCwgaW5zdGFsbGVkUGx1Z2lucztcbiAgICAgICAgICAgIHZhciBwbHVnaW5QYWNrID0gX2IucGx1Z2luUGFjaywgYnJpZGdlZCA9IF9iLmJyaWRnZWQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBwc3ZSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2MudHJ5cy5wdXNoKFsxLCA1LCAsIDZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKFByZWZlcmVuY2VzLmdldFByZWZlcmVuY2UoeyBjYXRlZ29yeTogJ2RldmVsb3BlcicsIGs6ICdwc3YnIH0pICE9PSAnbm9uZScpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFNlY3VyaXR5LnBzdih7IHNpZ25hdHVyZTogcGx1Z2luUGFjay5zaWduYXR1cmUsIHBsdWdpblNlbGY6IHBsdWdpblBhY2suc2VsZiB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBzdlJlc3VsdCA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBwc3ZSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMlRvYXN0LnNob3dUb2FzdCh7IHRleHQ6IEkxOG4udCh7IGtleTogJ3Bzdi1jaGVjay1mYWlsZWQtaW5zdGFsbGF0aW9uLWRlbmllZCcgfSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwc3ZSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMlRvYXN0LnNob3dUb2FzdCh7IHRleHQ6IFwiXFx1NUI4OVxcdTg4QzVcXHU4OEFCXFx1NjJEMlxcdTdFREQsIFxcdTZCNjRcXHU2M0QyXFx1NEVGNlxcdTMwMENcIi5jb25jYXQocGx1Z2luUGFjay5tYW5pZmVzdC5pZCwgXCJcXHUzMDBEXFx1NjcyQVxcdTkwMUFcXHU4RkM3UFNWXFx1NjhDMFxcdTY3RTVcXHUzMDAyXCIpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrSWZJbnN0YWxsZWQoeyBwbHVnaW5QYWNrOiBwbHVnaW5QYWNrIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNFVjJUb2FzdC5zaG93VG9hc3QoeyB0ZXh0OiBcIlxcdTVCODlcXHU4OEM1XFx1ODhBQlxcdTYyRDJcXHU3RURELCBcXHU2QjY0XFx1NjNEMlxcdTRFRjZcXHUzMDBDXCIuY29uY2F0KHBsdWdpblBhY2subWFuaWZlc3QuaWQsIFwiXFx1MzAwRFxcdTVERjJcXHU3RUNGXFx1NUI4OVxcdTg4QzVcXHUzMDAyXCIpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChicmlkZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucyA9IHRoaXMuZ2V0SW5zdGFsbGVkUGx1Z2lucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpblBhY2suZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luUGFjay5tYW5pZmVzdC5icmlkZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1BsdWdpbkluZGV4ID0gaW5zdGFsbGVkUGx1Z2lucy5maW5kSW5kZXgoZnVuY3Rpb24gKHBsdWdpbikgeyByZXR1cm4gcGx1Z2luLm1hbmlmZXN0LmlkID09PSBwbHVnaW5QYWNrLm1hbmlmZXN0LmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdQbHVnaW5JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2luc1tleGlzdGluZ1BsdWdpbkluZGV4XSA9IHBsdWdpblBhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLnB1c2gocGx1Z2luUGFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZUluc3RhbGxlZFBsdWdpbnMoeyBpbnN0YWxsZWRQbHVnaW5zOiBpbnN0YWxsZWRQbHVnaW5zIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucyA9IHRoaXMuZ2V0SW5zdGFsbGVkUGx1Z2lucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpblBhY2suZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5wdXNoKHBsdWdpblBhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZUluc3RhbGxlZFBsdWdpbnMoeyBpbnN0YWxsZWRQbHVnaW5zOiBpbnN0YWxsZWRQbHVnaW5zIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDRVYyRGlhbG9nLnNob3dEaWFsb2coe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogSTE4bi50KHsga2V5OiAnaW5zdGFsbGF0aW9uLXN1Y2NlZWQnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlxcdTZCNjRcXHU2M0QyXFx1NEVGNlxcdTMwMENcIi5jb25jYXQocGx1Z2luUGFjay5tYW5pZmVzdC5pZCwgXCJcXHUzMDBEXFx1NURGMlxcdTg4QUJcXHU1Qjg5XFx1ODhDNVxcdUZGMENcXHU2MzA5XFx1NEUwQlxcdTMwMENcXHU1OTdEXFx1MzAwRFxcdTU0MEVcXHU1QzA2XFx1NTIzN1xcdTY1QjBcXHU5ODc1XFx1OTc2MlxcdTRFRTVcXHU4RjdEXFx1NTE2NVxcdTYzRDJcXHU0RUY2XFx1MzAwMlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tBY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUGx1Z2luVG9vbGtpdC5wcm90b3R5cGUudW5pbnN0YWxsUGx1Z2luID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBtYW5pZmVzdCA9IF9hLm1hbmlmZXN0O1xuICAgICAgICB2YXIgaWQgPSBtYW5pZmVzdC5pZDtcbiAgICAgICAgQUNFVjJMb2FkZXIuZHJhdygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGluc3RhbGxlZFBsdWdpbnMgPSB0aGlzLmdldEluc3RhbGxlZFBsdWdpbnMoKTtcbiAgICAgICAgICAgIHZhciBuZXdJbnN0YWxsZWRQbHVnaW5zID0gaW5zdGFsbGVkUGx1Z2lucy5maWx0ZXIoZnVuY3Rpb24gKGluc3RhbGxlZFBsdWdpbikgeyByZXR1cm4gaW5zdGFsbGVkUGx1Z2luLm1hbmlmZXN0LmlkICE9PSBpZDsgfSk7XG4gICAgICAgICAgICB0aGlzLnNhdmVJbnN0YWxsZWRQbHVnaW5zKHsgaW5zdGFsbGVkUGx1Z2luczogbmV3SW5zdGFsbGVkUGx1Z2lucyB9KTtcbiAgICAgICAgICAgIEFDRVYyRGlhbG9nLnNob3dEaWFsb2coe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBJMThuLnQoeyBrZXk6ICd1bmluc3RhbGxhdGlvbi1zdWNjZWVkJyB9KSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcIlxcdTYzRDJcXHU0RUY2XFx1MzAwQ1wiLmNvbmNhdChpZCwgXCJcXHUzMDBEXFx1NTM3OFxcdThGN0RcXHU1QjhDXFx1NjIxMFxcdUZGMENcXHU3MEI5XFx1NTFGQlxcdTMwMENcXHU1OTdEXFx1MzAwRFxcdTRFRTVcXHU1MjM3XFx1NjVCMFxcdTk4NzVcXHU5NzYyXFx1MzAwMlwiKSxcbiAgICAgICAgICAgICAgICBva0FjdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9jYXRpb24ucmVsb2FkKCk7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBBQ0VWMlRvYXN0LnNob3dUb2FzdCh7IHRleHQ6IFwiXFx1NjNEMlxcdTRFRjZcXHU4OUUzXFx1OTY2NFxcdTVCODlcXHU4OEM1XFx1NTkzMVxcdThEMjVcXHVGRjBDXFx1NTcyOFxcdTVDMURcXHU4QkQ1XFx1ODlFM1xcdTk2NjRcXHU1Qjg5XFx1ODhDNVxcdTYzRDJcXHU0RUY2XFx1MzAwQ1wiLmNvbmNhdChpZCwgXCJcXHUzMDBEXFx1NjVGNlxcdTUxRkFcXHU3M0IwXFx1OTUxOVxcdThCRUZcXHVGRjBDXFx1OEJGN1xcdTUxOERcXHU4QkQ1XFx1NEUwMFxcdTZCMjFcXHUzMDAyXCIpIH0pO1xuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkoZSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgQUNFVjJMb2FkZXIuZGVzdHJveSgpO1xuICAgIH07XG4gICAgUGx1Z2luVG9vbGtpdC5wcm90b3R5cGUudW5pbnN0YWxsQnJpZGdlZFBsdWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbGxlZFBsdWdpbnMgPSB0aGlzLmdldEluc3RhbGxlZFBsdWdpbnMoKTtcbiAgICAgICAgdmFyIGJyaWRnZWRQbHVnaW5zID0gaW5zdGFsbGVkUGx1Z2lucy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkubWFuaWZlc3QuYnJpZGdlZCA9PT0gdHJ1ZTsgfSk7XG4gICAgICAgIGlmIChicmlkZ2VkUGx1Z2lucy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHZhciBpZF8xID0gYnJpZGdlZFBsdWdpbnNbMF0ubWFuaWZlc3QuaWQ7XG4gICAgICAgICAgICBpZiAoaWRfMSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YWxsZWRQbHVnaW5zXzEgPSB0aGlzLmdldEluc3RhbGxlZFBsdWdpbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0luc3RhbGxlZFBsdWdpbnMgPSBpbnN0YWxsZWRQbHVnaW5zXzEuZmlsdGVyKGZ1bmN0aW9uIChpbnN0YWxsZWRQbHVnaW4pIHsgcmV0dXJuIGluc3RhbGxlZFBsdWdpbi5tYW5pZmVzdC5pZCAhPT0gaWRfMTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZUluc3RhbGxlZFBsdWdpbnMoeyBpbnN0YWxsZWRQbHVnaW5zOiBuZXdJbnN0YWxsZWRQbHVnaW5zIH0pO1xuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuc3VjY2Vzcyh7IG1lc3NhZ2U6IEkxOG4udCh7IGtleTogJ3VuaW5zdGFsbGVkLWJyaWRnZWQtcGx1Z2luJyB9KSArIGlkXzEgfSk7XG4gICAgICAgICAgICAgICAgICAgIEFDRVYyVG9hc3Quc2hvd1RvYXN0KHsgdGV4dDogSTE4bi50KHsga2V5OiAndW5pbnN0YWxsZWQtYnJpZGdlZC1wbHVnaW4nIH0pICsgaWRfMSArIEkxOG4udCh7IGtleTogJ3BsZWFzZS1yZWxvYWQtcGFnZScgfSkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIEFDRVYyVG9hc3Quc2hvd1RvYXN0KHsgdGV4dDogSTE4bi50KHsga2V5OiAndW5pbnN0YWxsLWJyaWRnZWQtcGx1Z2luLWZhaWxlZCcgfSkgKyBpZF8xICsgSTE4bi50KHsga2V5OiAncGxlYXNlLXRyeS1hZ2FpbicgfSkgfSk7XG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5lcnJvcih7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KGUpIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUGx1Z2luVG9vbGtpdC5wcm90b3R5cGUuY2hlY2tJZkluc3RhbGxlZCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgcGx1Z2luUGFjayA9IF9hLnBsdWdpblBhY2s7XG4gICAgICAgIHZhciBpbnN0YWxsZWRQbHVnaW5zID0gdGhpcy5nZXRJbnN0YWxsZWRQbHVnaW5zKCk7XG4gICAgICAgIHZhciBpc0luc3RhbGxlZCA9IGZhbHNlO1xuICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKGluc3RhbGxlZFBsdWdpbikge1xuICAgICAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbi5tYW5pZmVzdC5pZCA9PT0gcGx1Z2luUGFjay5tYW5pZmVzdC5pZCkge1xuICAgICAgICAgICAgICAgIGlzSW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc0luc3RhbGxlZDtcbiAgICB9O1xuICAgIFBsdWdpblRvb2xraXQucHJvdG90eXBlLmdldEluc3RhbGxlZFBsdWdpbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0YWxsZWRQbHVnaW5zID0gQUNFVjJTdG9yYWdlLmdldFBsdWdpbnMoKTtcbiAgICAgICAgaWYgKCFpbnN0YWxsZWRQbHVnaW5zKSB7XG4gICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zID0gW107XG4gICAgICAgICAgICB0aGlzLnNhdmVJbnN0YWxsZWRQbHVnaW5zKHsgaW5zdGFsbGVkUGx1Z2luczogaW5zdGFsbGVkUGx1Z2lucyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFsbGVkUGx1Z2lucztcbiAgICB9O1xuICAgIFBsdWdpblRvb2xraXQucHJvdG90eXBlLnNhdmVJbnN0YWxsZWRQbHVnaW5zID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBpbnN0YWxsZWRQbHVnaW5zID0gX2EuaW5zdGFsbGVkUGx1Z2lucztcbiAgICAgICAgQUNFVjJTdG9yYWdlLnVwZGF0ZVBsdWdpbnNTdG9yYWdlKHsgbmV3UGx1Z2luczogaW5zdGFsbGVkUGx1Z2lucyB9KTtcbiAgICB9O1xuICAgIFBsdWdpblRvb2xraXQucHJvdG90eXBlLmdldFNlbGZQcmVmZXJlbmNlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBtYW5pZmVzdCA9IF9hLm1hbmlmZXN0O1xuICAgICAgICB2YXIgaW5zdGFsbGVkUGx1Z2lucyA9IHRoaXMuZ2V0SW5zdGFsbGVkUGx1Z2lucygpO1xuICAgICAgICB2YXIgdGFyZ2V0UGx1Z2luID0gaW5zdGFsbGVkUGx1Z2lucy5maW5kKGZ1bmN0aW9uIChpbnN0YWxsZWRQbHVnaW4pIHsgcmV0dXJuIGluc3RhbGxlZFBsdWdpbi5tYW5pZmVzdC5pZCA9PT0gbWFuaWZlc3QuaWQ7IH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0UGx1Z2luLm1hbmlmZXN0LnNldHRpbmdzO1xuICAgIH07XG4gICAgUGx1Z2luVG9vbGtpdC5wcm90b3R5cGUuc2F2ZVNlbGZQcmVmZXJlbmNlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBtYW5pZmVzdCA9IF9hLm1hbmlmZXN0LCBzZXR0aW5ncyA9IF9hLnNldHRpbmdzO1xuICAgICAgICB2YXIgaW5zdGFsbGVkUGx1Z2lucyA9IHRoaXMuZ2V0SW5zdGFsbGVkUGx1Z2lucygpO1xuICAgICAgICB2YXIgdGFyZ2V0UGx1Z2luID0gaW5zdGFsbGVkUGx1Z2lucy5maW5kKGZ1bmN0aW9uIChpbnN0YWxsZWRQbHVnaW4pIHsgcmV0dXJuIGluc3RhbGxlZFBsdWdpbi5tYW5pZmVzdC5pZCA9PT0gbWFuaWZlc3QuaWQ7IH0pO1xuICAgICAgICB0YXJnZXRQbHVnaW4ubWFuaWZlc3Quc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5zYXZlSW5zdGFsbGVkUGx1Z2lucyh7IGluc3RhbGxlZFBsdWdpbnM6IGluc3RhbGxlZFBsdWdpbnMgfSk7XG4gICAgfTtcbiAgICBQbHVnaW5Ub29sa2l0LnByb3RvdHlwZS5pbml0aWFsaXplUGx1Z2luRXhlY3V0aW9uQW5kU2V0VHJpZ2dlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluc3RhbGxlZFBsdWdpbnMsIF9fdG9tYnN0b25lcywgX2xvb3BfMSwgX2ksIGluc3RhbGxlZFBsdWdpbnNfMiwgaW5zdGFsbGVkUGx1Z2luO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMgPSB0aGlzLmdldEluc3RhbGxlZFBsdWdpbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdG9tYnN0b25lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEgPSBmdW5jdGlvbiAoaW5zdGFsbGVkUGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGZfMSwgbWFuaWZlc3QsIGFsbEFwaXNEZWZpbmVkLCBhcmdzLCBmaWx0ZXJlZEFyZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnN0YWxsZWRQbHVnaW4uZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFwiY29udGludWVcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZl8xID0gaW5zdGFsbGVkUGx1Z2luLnNlbGYsIG1hbmlmZXN0ID0gaW5zdGFsbGVkUGx1Z2luLm1hbmlmZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFwaXNEZWZpbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChtYW5pZmVzdC5yZXF1ZXN0ZWRBUElzLm1hcChmdW5jdGlvbiAoYXBpTmFtZSkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwaUltcGxlbWVudGF0aW9uc1thcGlOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBuYW1lOiBhcGlOYW1lLCB0YXJnZXQ6IHRoaXMuYXBpSW1wbGVtZW50YXRpb25zW2FwaU5hbWVdIH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmVycm9yKHsgbWVzc2FnZTogXCJFcnJvciBsb2FkaW5nIHBsdWdpbiB0b21ic3RvbmUgXCIuY29uY2F0KG1hbmlmZXN0LmlkLCBcIiwgY2Fubm90IHJlc29sdmUgQVBJIFwiKS5jb25jYXQoYXBpTmFtZSwgXCIgb2YgdW5kZWZpbmVkLlwiKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNFVjJUb2FzdC5zaG93VG9hc3QoeyB0ZXh0OiBcIlxcdTYzRDJcXHU0RUY2XFx1MzAwQ1wiLmNvbmNhdChtYW5pZmVzdC5pZCwgXCJcXHUzMDBEXFx1OEJGN1xcdTZDNDJcXHU0RTg2XFx1NEUwMFxcdTRFMkFcXHU2NzJBXFx1NUI5QVxcdTRFNDlcXHU3Njg0QVBJXFx1MzAwQ1wiKS5jb25jYXQoYXBpTmFtZSwgXCJcXHUzMDBEXFx1RkYwQ1xcdTU2RTBcXHU2QjY0XFx1NjJEMlxcdTdFRERcXHU4RjdEXFx1NTE2NVxcdTZCNjRcXHU2M0QyXFx1NEVGNlxcdTMwMDJcIikgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFwaXNEZWZpbmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbEFwaXNEZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgXCJjb250aW51ZVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEFyZ3MgPSBhcmdzLmZpbHRlcihmdW5jdGlvbiAoYXJnKSB7IHJldHVybiBhcmcgIT09IHVuZGVmaW5lZDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkQXJncy5sZW5ndGggPT09IG1hbmlmZXN0LnJlcXVlc3RlZEFQSXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RvbWJzdG9uZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZjogc2VsZl8xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBmaWx0ZXJlZEFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5lcnJvcih7IG1lc3NhZ2U6IFwiRXJyb3IgY3JlYXRpbmcgcGx1Z2luIHRvbWJzdG9uZSBcIi5jb25jYXQobWFuaWZlc3QuaWQsIFwiOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVycm9yKSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMkRpYWxvZy5zaG93RGlhbG9nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogSTE4bi50KHsga2V5OiAncmVxdWVzdC1yZWxvYWQnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXFx1NjNEMlxcdTRFRjZcXHU4RjdEXFx1NTE2NVxcdTU2NjhcXHU1NzI4XFx1NzUxRlxcdTYyMTBcXHU2M0QyXFx1NEVGNlxcdTMwMENcIi5jb25jYXQobWFuaWZlc3QuaWQsIFwiXFx1MzAwRFxcdTc2ODRcXHU1ODkzXFx1Nzg5MVxcdTRFMkRcXHU1MUZBXFx1NzNCMFxcdTk1MTlcXHU4QkVGXCIpLmNvbmNhdChlcnJvciwgXCJcXHVGRjBDXFx1NTZFMFxcdTZCNjRBY0Z1biBFdm9sdmVkXFx1NURGMlxcdTRFMkRcXHU2QjYyXFx1OEZEMFxcdTg4NENcXHVGRjBDXFx1NjMwOVxcdTRFMEJcXHUzMDBDXFx1NTk3RFxcdTMwMERcXHU0RUU1XFx1OTFDRFxcdTY1QjBcXHU1NDJGXFx1NTJBOEFjRnVuIEV2b2x2ZWQuXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2NhdGlvbi5yZWxvYWQoKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBpbnN0YWxsZWRQbHVnaW5zXzIgPSBpbnN0YWxsZWRQbHVnaW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IGluc3RhbGxlZFBsdWdpbnNfMi5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbiA9IGluc3RhbGxlZFBsdWdpbnNfMltfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzUgLyp5aWVsZCoqLywgX2xvb3BfMShpbnN0YWxsZWRQbHVnaW4pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9tYnN0b25lcyA9IF9fdG9tYnN0b25lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZmVycnltYW4oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICA7XG4gICAgUGx1Z2luVG9vbGtpdC5wcm90b3R5cGUuZmVycnltYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGVjdXRlVG9tYnN0b25lcztcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlVG9tYnN0b25lcyA9IGZ1bmN0aW9uIChfYSkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCBbX2FdLCB2b2lkIDAsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfX3RvbWJzdG9uZXMsIF9pLCBfX3RvbWJzdG9uZXNfMSwgdG9tYnN0b25lLCBzZWxmXzIsIGFyZ3MsIG1hbmlmZXN0LCByZXF1aXJlZFBhdHRlcm5zLCBpc01hdGNoLCB0YXJnZXRGdW5jdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VXJsID0gX2IuY3VycmVudFVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdG9tYnN0b25lcyA9IHRoaXMudG9tYnN0b25lcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9fdG9tYnN0b25lc18xID0gX190b21ic3RvbmVzOyBfaSA8IF9fdG9tYnN0b25lc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9tYnN0b25lID0gX190b21ic3RvbmVzXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvbWJzdG9uZS5leGVjdXRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGZfMiA9IHRvbWJzdG9uZS5zZWxmLCBhcmdzID0gdG9tYnN0b25lLmFyZ3MsIG1hbmlmZXN0ID0gdG9tYnN0b25lLm1hbmlmZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hbmlmZXN0LnRyaWdnZXIubWF0Y2hlcyAmJiBtYW5pZmVzdC50cmlnZ2VyLm1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkUGF0dGVybnMgPSBtYW5pZmVzdC50cmlnZ2VyLm1hdGNoZXMuZmxhdE1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBwYWdlTGlzdFtrZXldIHx8IFtdOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hdGNoID0gcmVxdWlyZWRQYXR0ZXJucy5zb21lKGZ1bmN0aW9uIChwYXR0ZXJuKSB7IHJldHVybiBwYXR0ZXJuLnRlc3QoY3VycmVudFVybCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuaW5mbyh7IG1lc3NhZ2U6IFwiZXhlY3V0ZWQgXCIuY29uY2F0KG1hbmlmZXN0LmlkKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZ1bmN0aW9uID0gbmV3IChGdW5jdGlvbi5iaW5kLmFwcGx5KEZ1bmN0aW9uLCBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW3ZvaWQgMF0sIGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy5uYW1lOyB9KSwgZmFsc2UpLCBbJ21hbmlmZXN0JywgJ2dldFNlbGZQcmVmZXJlbmNlJywgc2VsZl8yXSwgZmFsc2UpKSkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHRhcmdldEZ1bmN0aW9uID0gbmV3IEZ1bmN0aW9uKC4uLmFyZ3MubWFwKChhcmc6IGFueSkgPT4gYXJnLm5hbWUpLCAnbWFuaWZlc3QnLCBgKCgpPT57XCJ1c2Ugc3RyaWN0XCI7KGFzeW5jKCk9Pntjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLScpfSkoKTtgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZ1bmN0aW9uLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7IHJldHVybiBhcmcudGFyZ2V0OyB9KSwgZmFsc2UpLCBbbWFuaWZlc3QsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFuaWZlc3QgPSBfYS5tYW5pZmVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFNlbGZQcmVmZXJlbmNlKHsgbWFuaWZlc3Q6IG1hbmlmZXN0IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9tYnN0b25lLmV4ZWN1dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmVycm9yKHsgbWVzc2FnZTogXCJFcnJvciBmZXJyeWluZyBwbHVnaW4gXCIuY29uY2F0KG1hbmlmZXN0LmlkLCBcIjogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMlRvYXN0LnNob3dUb2FzdCh7IHRleHQ6IFwiXFx1NjQ0NlxcdTZFMjFcXHU0RUJBXFx1NTcyOFxcdTYyNjdcXHU4ODRDXFx1NjNEMlxcdTRFRjZcXHUzMDBDXCIuY29uY2F0KG1hbmlmZXN0LmlkLCBcIlxcdTMwMERcXHU0RTJEXFx1NTFGQVxcdTczQjBcXHU5NTE5XFx1OEJFRlwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSksIFwiXFx1RkYwQ1xcdTU2RTBcXHU2QjY0XFx1NURGMlxcdTRFMkRcXHU2QjYyXFx1OEZEMFxcdTg4NENcXHU2QjY0XFx1NjNEMlxcdTRFRjZcXHUzMDAyXCIpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9tYnN0b25lcyA9IF9fdG9tYnN0b25lcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBleGVjdXRlVG9tYnN0b25lcyh7IGN1cnJlbnRVcmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU3VwZXJ2aXNvci51cmxDaGFuZ2UoZnVuY3Rpb24gKGN1cnJlbnRVcmwpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZXhlY3V0ZVRvbWJzdG9uZXMoeyBjdXJyZW50VXJsOiBjdXJyZW50VXJsIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgO1xuICAgIFBsdWdpblRvb2xraXQucHJvdG90eXBlLndha2VVcEJ1aWxkSW5QbHVnaW5zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoUHJlZmVyZW5jZXMuZ2V0UHJlZmVyZW5jZSh7IGNhdGVnb3J5OiAnZGV2ZWxvcGVyJywgazogJ3BzdicgfSkgIT09ICdmdWxsJykge1xuICAgICAgICAgICAgRGVidWdCcmlkZ2Uud2FrZVVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgUGx1Z2luU3RvcmUud2FrZVVwKCk7XG4gICAgfTtcbiAgICBQbHVnaW5Ub29sa2l0LnByb3RvdHlwZS5leHRyYWN0QW5kSW5zdGFsbFBsdWdpbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29tcHJlc3NlZERhdGEgPSBfYS5jb21wcmVzc2VkRGF0YTtcbiAgICAgICAgQUNFVjJEaWFsb2cuc2hvd0RpYWxvZyh7XG4gICAgICAgICAgICB0aXRsZTogSTE4bi50KHsga2V5OiBJMThuLnQoeyBrZXk6ICd3YW50cy10by1leHRyYWN0LWFuZC1pbnN0YWxsLXBsdWdpbi1wYWNrYWdlJyB9KSB9KSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IEkxOG4udCh7IGtleTogJ2RvLXlvdS1yZWFsbHktd2FudC10by1kby10aGF0JyB9KSxcbiAgICAgICAgICAgIG9rQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29tcHJlc3NlZEFycmF5QnVmZmVyLCBmaWxlcywgcmF3T2JqZWN0LCBwYWNrLCBlcnJfMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMkxvYWRlci5kcmF3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb21wcmVzc2VkQXJyYXlCdWZmZXIgPSBwYWtvLmluZmxhdGUobmV3IFVpbnQ4QXJyYXkoY29tcHJlc3NlZERhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRlY29tcHJlc3NlZEFycmF5QnVmZmVyLmJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMlRvYXN0LnNob3dUb2FzdCh7IHRleHQ6IEkxOG4udCh7IGtleTogJ2RlY29tcHJlc3NlZC1kYXRhLWRvZXMtbm90LWNvbnRhaW4tdmFsaWQtYnVmZmVyLXByb3BlcnR5JyB9KSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlcyA9IHVudGFyKGRlY29tcHJlc3NlZEFycmF5QnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNFVjJUb2FzdC5zaG93VG9hc3QoeyB0ZXh0OiBJMThuLnQoeyBrZXk6ICduby1maWxlcy1leHRyYWN0ZWQtZnJvbS10aGUtY29tcHJlc3NlZC1kYXRhJyB9KSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdPYmplY3QgPSBmaWxlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdPYmplY3QgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUocmF3T2JqZWN0LmZpbGVEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWNrID0gSlNPTi5wYXJzZShyYXdPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5zdGFsbFBsdWdpbih7IHBsdWdpblBhY2s6IHBhY2ssIGJyaWRnZWQ6IGZhbHNlIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmVycm9yKHsgbWVzc2FnZTogXCJFcnJvciBleHRyYWN0aW5nIGFuZCBpbnN0YWxsaW5nIHBsdWdpbiBwYWNrYWdlOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZXJyXzEpKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMlRvYXN0LnNob3dUb2FzdCh7IHRleHQ6IEkxOG4udCh7IGtleTogJ2Vycm9yLWV4dHJhY3RpbmctYW5kLWluc3RhbGxpbmctcGx1Z2luLXBhY2thZ2UnIH0pIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDRVYyTG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pOyB9LFxuICAgICAgICAgICAgY2FuY2VsQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBBQ0VWMlRvYXN0LnNob3dUb2FzdCh7IHRleHQ6ICdjYW5jZWxlZCcgfSk7IH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICA7XG4gICAgUGx1Z2luVG9vbGtpdC5wcm90b3R5cGUuZG93bmxvYWRBbmRJbnN0YWxsUGx1Z2luUGFjayA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIGFyZ3VtZW50cywgdm9pZCAwLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHZhciBtYW5pZmVzdCA9IF9iLm1hbmlmZXN0O1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBQbHVnaW5Ub29sa2l0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IG5ldyBQbHVnaW5Ub29sa2l0KCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/core/api/PluginToolkit.ts\n");

/***/ }),

/***/ "./src/plugins/PluginStore.ts":
/*!************************************!*\
  !*** ./src/plugins/PluginStore.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _core_services_IPC__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/services/IPC */ \"./src/core/services/IPC.ts\");\n/* harmony import */ var _ui_Manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/Manager */ \"./src/ui/Manager.tsx\");\n/* harmony import */ var _ACEV2Loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ACEV2Loader */ \"./src/plugins/ACEV2Loader.ts\");\n/* harmony import */ var _core_api_IO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/api/IO */ \"./src/core/api/IO.ts\");\n/* harmony import */ var _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/api/Variable */ \"./src/core/api/Variable.ts\");\n/* harmony import */ var _ui_assets_pluginStore_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/assets/pluginStore.svg */ \"./src/ui/assets/pluginStore.svg\");\n/* harmony import */ var _ui_assets_default_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/assets/default.svg */ \"./src/ui/assets/default.svg\");\n/* harmony import */ var _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/api/I18n */ \"./src/core/api/I18n.ts\");\n/* harmony import */ var _core_services_Clock__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/services/Clock */ \"./src/core/services/Clock.ts\");\n/* harmony import */ var _core_api_PluginToolkit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/api/PluginToolkit */ \"./src/core/api/PluginToolkit.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\nvar PluginStore = /** @class */ (function () {\n    function PluginStore() {\n        this.manifest = {\n            icon: _ui_assets_pluginStore_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n            name: 'Plugin Store',\n            id: '@wenzi7777/acev2_plugin_store',\n            versions: ['0.0.1'],\n            description: 'AcFun Evolved V2 插件商店。',\n            createdAt: new Date('2024-08-09').getTime() + '',\n            updatedAt: new Date().getTime() + '',\n            author: 'wenzi7777',\n            copyright: '(c)2024 wenzi7777, licensed under the MIT License.',\n            requestedAPIs: [],\n            website: 'https://acev2.1205.moe/',\n            trigger: {\n                receiveHandler: true,\n                matches: ['*']\n            }\n        };\n        this.handler = '';\n        this.tracker = '';\n        this.canvas = [];\n        this.currentPage = 1;\n        this.totalPages = 10;\n        this.bigManifest = null;\n    }\n    PluginStore.prototype.wakeUp = function () {\n        var _this = this;\n        _core_services_IPC__WEBPACK_IMPORTED_MODULE_0__[\"default\"].listen({ channel: 'runtime:launchpad', handler: function (data) { return _this.render(data); }, manifest: this.manifest });\n    };\n    PluginStore.prototype.getBigManifest = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, items;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = this;\n                        return [4 /*yield*/, _core_api_IO__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getJson({ url: _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].bigManifestURL() })];\n                    case 1:\n                        _a.bigManifest = _c.sent();\n                        items = (_b = this.bigManifest) === null || _b === void 0 ? void 0 : _b.length;\n                        this.totalPages = Math.ceil(items || 1 / _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE);\n                        this.currentPage = 1;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PluginStore.prototype.updateCanvas = function (_a) {\n        return __awaiter(this, arguments, void 0, function (_b) {\n            var newAppList;\n            var _this = this;\n            var _c, _d, _e;\n            var currentPage = _b.currentPage, totalPages = _b.totalPages;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, this.getBigManifest()];\n                    case 1:\n                        _f.sent();\n                        if (((_c = this.bigManifest) === null || _c === void 0 ? void 0 : _c.length) > _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE) {\n                            this.bigManifest = (_d = this.bigManifest) === null || _d === void 0 ? void 0 : _d.slice((this.currentPage - 1) * _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE, this.currentPage * _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE);\n                        }\n                        newAppList = [\n                            {\n                                type: 'sizer',\n                                styleObject: {\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    justifyContent: 'space-between',\n                                    alignItems: 'center',\n                                    width: '100%',\n                                    height: '100%'\n                                },\n                                children: (_e = this.bigManifest) === null || _e === void 0 ? void 0 : _e.map(function (item) {\n                                    var icon = item.icon;\n                                    var isSVG = icon.startsWith('<svg');\n                                    var isDefaultIcon = icon === 'default';\n                                    var src = isSVG ? icon : isDefaultIcon ? _ui_assets_default_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"] : icon;\n                                    return {\n                                        type: 'sizer',\n                                        styleObject: {\n                                            width: '100%',\n                                            display: 'flex',\n                                            justifyContent: 'space-between',\n                                            alignItems: 'center',\n                                            margin: '10px',\n                                            cursor: 'pointer'\n                                        },\n                                        events: [\n                                            {\n                                                event: 'click',\n                                                handler: function () { return _this.openDetailsPanel({ manifest: item }); }\n                                            }\n                                        ],\n                                        children: [\n                                            {\n                                                type: 'image',\n                                                src: src,\n                                                asHTML: isSVG\n                                            },\n                                            {\n                                                type: 'text',\n                                                label: item.name + ' ' + item.id,\n                                                text: item.description\n                                            }\n                                        ]\n                                    };\n                                })\n                            }\n                        ];\n                        this.canvas = [\n                            {\n                                type: 'sizer',\n                                styleObject: {\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    alignItems: 'center',\n                                    width: '100%',\n                                    height: '80%',\n                                    flexGrow: 1\n                                },\n                                children: newAppList\n                            },\n                            {\n                                type: 'sizer',\n                                styleObject: {\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    alignItems: 'center',\n                                    width: '100%',\n                                    height: '20%',\n                                    flexGrow: 1\n                                },\n                                children: [\n                                    {\n                                        type: 'pagination',\n                                        currentPage: currentPage || this.currentPage,\n                                        totalPages: totalPages || this.totalPages,\n                                        onPageChange: function (page) { return _this.currentPage += 1; }\n                                    }\n                                ]\n                            },\n                        ];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PluginStore.prototype.openDetailsPanel = function (_a) {\n        var _this = this;\n        var manifest = _a.manifest;\n        var icon = manifest.icon;\n        var isSVG = icon.startsWith('<svg');\n        var isDefaultIcon = icon === 'default';\n        var src = isSVG ? icon : isDefaultIcon ? _ui_assets_default_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"] : icon;\n        var detailPanelTracker = _ui_Manager__WEBPACK_IMPORTED_MODULE_1__.Manager.renderUI({\n            canvas: [\n                {\n                    type: 'sizer',\n                    styleObject: {\n                        zIndex: 99,\n                        position: 'absolute',\n                        left: '50%',\n                        top: '50%',\n                        transform: 'translate(-50%, -50%)',\n                        maxWidth: '70vw',\n                        maxHeight: '60vh'\n                    },\n                    filled: true,\n                    draggable: true,\n                    children: [\n                        {\n                            type: 'sizer',\n                            styleObject: {\n                                display: 'flex',\n                                flexDirection: 'column',\n                                gap: '1vh',\n                                alignItems: 'center',\n                                justifyContent: 'space-around',\n                                padding: '1vw'\n                            },\n                            children: [\n                                {\n                                    type: 'sizer',\n                                    styleObject: {\n                                        display: 'flex',\n                                        justifyContent: 'space-between',\n                                        alignItems: 'center',\n                                    },\n                                    children: [\n                                        {\n                                            type: 'sizer',\n                                            styleObject: {\n                                                width: '32px',\n                                                height: '32px'\n                                            },\n                                            children: [\n                                                {\n                                                    type: 'image',\n                                                    asHTML: isSVG,\n                                                    src: src\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            type: 'text',\n                                            label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'developer' }) + ' ' + manifest.author,\n                                            text: manifest.name + ' | ' + manifest.id,\n                                        }\n                                    ]\n                                },\n                                {\n                                    type: 'sizer',\n                                    styleObject: {\n                                        display: 'flex',\n                                        justifyContent: 'center',\n                                        alignItems: 'center',\n                                        gap: '1vw'\n                                    },\n                                    children: [\n                                        {\n                                            type: 'sizer',\n                                            styleObject: {\n                                                display: 'flex',\n                                                flexDirection: 'column',\n                                                justifyContent: 'flex-start',\n                                                alignItems: 'flex-start'\n                                            },\n                                            children: [\n                                                {\n                                                    type: 'text',\n                                                    label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'description' }),\n                                                    text: manifest.description\n                                                },\n                                                {\n                                                    type: 'text',\n                                                    label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'latest-version' }),\n                                                    text: manifest.versions[manifest.versions.length - 1]\n                                                },\n                                                {\n                                                    type: 'text',\n                                                    label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'requested-apis' }),\n                                                    text: manifest.requestedAPIs.join(', ')\n                                                },\n                                            ]\n                                        },\n                                        {\n                                            type: 'sizer',\n                                            styleObject: {\n                                                display: 'flex',\n                                                flexDirection: 'column',\n                                                justifyContent: 'flex-start',\n                                                alignItems: 'flex-start'\n                                            },\n                                            children: [\n                                                {\n                                                    type: 'text',\n                                                    label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'matches' }),\n                                                    text: manifest.trigger.matches.join(', ')\n                                                },\n                                                {\n                                                    type: 'text',\n                                                    label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'created-at' }) + ' ' + _core_services_Clock__WEBPACK_IMPORTED_MODULE_8__[\"default\"].toReadableTime({ timestamp: parseInt(manifest.createdAt) }),\n                                                    text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'updated-at' }) + ' ' + _core_services_Clock__WEBPACK_IMPORTED_MODULE_8__[\"default\"].toReadableTime({ timestamp: parseInt(manifest.updatedAt) })\n                                                },\n                                                {\n                                                    type: 'text',\n                                                    label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'reactive-ui' }),\n                                                    text: manifest.trigger.receiveHandler ? _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'enabled' }) : _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'disabled' })\n                                                }\n                                            ]\n                                        }\n                                    ]\n                                },\n                                {\n                                    type: 'sizer',\n                                    size: {\n                                        width: 23,\n                                        height: 3\n                                    },\n                                    styleObject: {\n                                        display: 'flex',\n                                        justifyContent: 'space-between',\n                                        alignItems: 'center'\n                                    },\n                                    children: [\n                                        {\n                                            type: 'sizer',\n                                            size: {\n                                                width: 7,\n                                                height: 3\n                                            },\n                                            children: [{\n                                                    type: 'button',\n                                                    text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'install' }),\n                                                    actions: [function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n                                                            switch (_a.label) {\n                                                                case 0: return [4 /*yield*/, _core_api_PluginToolkit__WEBPACK_IMPORTED_MODULE_9__[\"default\"].downloadAndInstallPluginPack({ manifest: manifest })];\n                                                                case 1: return [2 /*return*/, _a.sent()];\n                                                            }\n                                                        }); }); }]\n                                                }]\n                                        },\n                                        {\n                                            type: 'sizer',\n                                            size: {\n                                                width: 7,\n                                                height: 3\n                                            },\n                                            children: [{\n                                                    type: 'button',\n                                                    text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'website' }),\n                                                    actions: [function () { return _core_api_IO__WEBPACK_IMPORTED_MODULE_3__[\"default\"].openPageInNewTab({ url: manifest.website, manifest: _this.manifest }); }]\n                                                }]\n                                        },\n                                        {\n                                            type: 'sizer',\n                                            size: {\n                                                width: 7,\n                                                height: 3\n                                            },\n                                            children: [{\n                                                    type: 'button',\n                                                    text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'cancel' }),\n                                                    actions: [function () { return _ui_Manager__WEBPACK_IMPORTED_MODULE_1__.Manager.unmountUI({ tracker: detailPanelTracker }); }]\n                                                }]\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ], slot: 'plugins'\n        });\n    };\n    PluginStore.prototype.render = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(data.type === 'pluginStarted')) return [3 /*break*/, 2];\n                        if (!(data.manifest.id === this.manifest.id)) return [3 /*break*/, 2];\n                        _ACEV2Loader__WEBPACK_IMPORTED_MODULE_2__[\"default\"].draw();\n                        return [4 /*yield*/, this.updateCanvas({})];\n                    case 1:\n                        _a.sent();\n                        this.handler = data.handler;\n                        this.tracker = _ui_Manager__WEBPACK_IMPORTED_MODULE_1__.Manager.renderUI({\n                            canvas: this.canvas, slot: this.handler\n                        });\n                        _ACEV2Loader__WEBPACK_IMPORTED_MODULE_2__[\"default\"].destroy();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return PluginStore;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new PluginStore());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsaUJBQWlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY2Z1bl9ldm9sdmVkLy4vc3JjL3BsdWdpbnMvUGx1Z2luU3RvcmUudHM/MTQ0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgSVBDIGZyb20gXCIuLi9jb3JlL3NlcnZpY2VzL0lQQ1wiO1xuaW1wb3J0IHsgTWFuYWdlciB9IGZyb20gXCIuLi91aS9NYW5hZ2VyXCI7XG5pbXBvcnQgQUNFVjJMb2FkZXIgZnJvbSBcIi4vQUNFVjJMb2FkZXJcIjtcbmltcG9ydCBJTyBmcm9tIFwiLi4vY29yZS9hcGkvSU9cIjtcbmltcG9ydCBWYXJpYWJsZSBmcm9tIFwiLi4vY29yZS9hcGkvVmFyaWFibGVcIjtcbmltcG9ydCBwbHVnaW5TdG9yZUljb24gZnJvbSAnLi4vdWkvYXNzZXRzL3BsdWdpblN0b3JlLnN2Zyc7XG5pbXBvcnQgZGVmYXVsdEljb24gZnJvbSBcIi4uL3VpL2Fzc2V0cy9kZWZhdWx0LnN2Z1wiO1xuaW1wb3J0IEkxOG4gZnJvbSBcIi4uL2NvcmUvYXBpL0kxOG5cIjtcbmltcG9ydCBDbG9jayBmcm9tIFwiLi4vY29yZS9zZXJ2aWNlcy9DbG9ja1wiO1xuaW1wb3J0IFBsdWdpblRvb2xraXQgZnJvbSBcIi4uL2NvcmUvYXBpL1BsdWdpblRvb2xraXRcIjtcbnZhciBQbHVnaW5TdG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQbHVnaW5TdG9yZSgpIHtcbiAgICAgICAgdGhpcy5tYW5pZmVzdCA9IHtcbiAgICAgICAgICAgIGljb246IHBsdWdpblN0b3JlSWNvbixcbiAgICAgICAgICAgIG5hbWU6ICdQbHVnaW4gU3RvcmUnLFxuICAgICAgICAgICAgaWQ6ICdAd2Vuemk3Nzc3L2FjZXYyX3BsdWdpbl9zdG9yZScsXG4gICAgICAgICAgICB2ZXJzaW9uczogWycwLjAuMSddLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBY0Z1biBFdm9sdmVkIFYyIOaPkuS7tuWVhuW6l+OAgicsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCcyMDI0LTA4LTA5JykuZ2V0VGltZSgpICsgJycsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgJycsXG4gICAgICAgICAgICBhdXRob3I6ICd3ZW56aTc3NzcnLFxuICAgICAgICAgICAgY29weXJpZ2h0OiAnKGMpMjAyNCB3ZW56aTc3NzcsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4nLFxuICAgICAgICAgICAgcmVxdWVzdGVkQVBJczogW10sXG4gICAgICAgICAgICB3ZWJzaXRlOiAnaHR0cHM6Ly9hY2V2Mi4xMjA1Lm1vZS8nLFxuICAgICAgICAgICAgdHJpZ2dlcjoge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVIYW5kbGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1hdGNoZXM6IFsnKiddXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlciA9ICcnO1xuICAgICAgICB0aGlzLnRyYWNrZXIgPSAnJztcbiAgICAgICAgdGhpcy5jYW52YXMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIHRoaXMudG90YWxQYWdlcyA9IDEwO1xuICAgICAgICB0aGlzLmJpZ01hbmlmZXN0ID0gbnVsbDtcbiAgICB9XG4gICAgUGx1Z2luU3RvcmUucHJvdG90eXBlLndha2VVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgSVBDLmxpc3Rlbih7IGNoYW5uZWw6ICdydW50aW1lOmxhdW5jaHBhZCcsIGhhbmRsZXI6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBfdGhpcy5yZW5kZXIoZGF0YSk7IH0sIG1hbmlmZXN0OiB0aGlzLm1hbmlmZXN0IH0pO1xuICAgIH07XG4gICAgUGx1Z2luU3RvcmUucHJvdG90eXBlLmdldEJpZ01hbmlmZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIGl0ZW1zO1xuICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgSU8uZ2V0SnNvbih7IHVybDogVmFyaWFibGUuYmlnTWFuaWZlc3RVUkwoKSB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmJpZ01hbmlmZXN0ID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSAoX2IgPSB0aGlzLmJpZ01hbmlmZXN0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKGl0ZW1zIHx8IDEgLyBWYXJpYWJsZS5QQUdFX1NJWkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUGx1Z2luU3RvcmUucHJvdG90eXBlLnVwZGF0ZUNhbnZhcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIGFyZ3VtZW50cywgdm9pZCAwLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHZhciBuZXdBcHBMaXN0O1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYywgX2QsIF9lO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gX2IuY3VycmVudFBhZ2UsIHRvdGFsUGFnZXMgPSBfYi50b3RhbFBhZ2VzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfZikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2YubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldEJpZ01hbmlmZXN0KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfZi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChfYyA9IHRoaXMuYmlnTWFuaWZlc3QpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sZW5ndGgpID4gVmFyaWFibGUuUEFHRV9TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaWdNYW5pZmVzdCA9IChfZCA9IHRoaXMuYmlnTWFuaWZlc3QpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zbGljZSgodGhpcy5jdXJyZW50UGFnZSAtIDEpICogVmFyaWFibGUuUEFHRV9TSVpFLCB0aGlzLmN1cnJlbnRQYWdlICogVmFyaWFibGUuUEFHRV9TSVpFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FwcExpc3QgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IChfZSA9IHRoaXMuYmlnTWFuaWZlc3QpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uID0gaXRlbS5pY29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzU1ZHID0gaWNvbi5zdGFydHNXaXRoKCc8c3ZnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNEZWZhdWx0SWNvbiA9IGljb24gPT09ICdkZWZhdWx0JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBpc1NWRyA/IGljb24gOiBpc0RlZmF1bHRJY29uID8gZGVmYXVsdEljb24gOiBpY29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzEwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnY2xpY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub3BlbkRldGFpbHNQYW5lbCh7IG1hbmlmZXN0OiBpdGVtIH0pOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzSFRNTDogaXNTVkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSArICcgJyArIGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc4MCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleEdyb3c6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IG5ld0FwcExpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NpemVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzIwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4R3JvdzogMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYWdpbmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UgfHwgdGhpcy5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiB0b3RhbFBhZ2VzIHx8IHRoaXMudG90YWxQYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBfdGhpcy5jdXJyZW50UGFnZSArPSAxOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQbHVnaW5TdG9yZS5wcm90b3R5cGUub3BlbkRldGFpbHNQYW5lbCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWFuaWZlc3QgPSBfYS5tYW5pZmVzdDtcbiAgICAgICAgdmFyIGljb24gPSBtYW5pZmVzdC5pY29uO1xuICAgICAgICB2YXIgaXNTVkcgPSBpY29uLnN0YXJ0c1dpdGgoJzxzdmcnKTtcbiAgICAgICAgdmFyIGlzRGVmYXVsdEljb24gPSBpY29uID09PSAnZGVmYXVsdCc7XG4gICAgICAgIHZhciBzcmMgPSBpc1NWRyA/IGljb24gOiBpc0RlZmF1bHRJY29uID8gZGVmYXVsdEljb24gOiBpY29uO1xuICAgICAgICB2YXIgZGV0YWlsUGFuZWxUcmFja2VyID0gTWFuYWdlci5yZW5kZXJVSSh7XG4gICAgICAgICAgICBjYW52YXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDk5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICc3MHZ3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogJzYwdmgnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZpbGxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnMXZoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzF2dydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICczMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzMycHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc0hUTUw6IGlzU1ZHLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogc3JjXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogSTE4bi50KHsga2V5OiAnZGV2ZWxvcGVyJyB9KSArICcgJyArIG1hbmlmZXN0LmF1dGhvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWFuaWZlc3QubmFtZSArICcgfCAnICsgbWFuaWZlc3QuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogJzF2dydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NpemVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogSTE4bi50KHsga2V5OiAnZGVzY3JpcHRpb24nIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG1hbmlmZXN0LmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogSTE4bi50KHsga2V5OiAnbGF0ZXN0LXZlcnNpb24nIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG1hbmlmZXN0LnZlcnNpb25zW21hbmlmZXN0LnZlcnNpb25zLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogSTE4bi50KHsga2V5OiAncmVxdWVzdGVkLWFwaXMnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG1hbmlmZXN0LnJlcXVlc3RlZEFQSXMuam9pbignLCAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBJMThuLnQoeyBrZXk6ICdtYXRjaGVzJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtYW5pZmVzdC50cmlnZ2VyLm1hdGNoZXMuam9pbignLCAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IEkxOG4udCh7IGtleTogJ2NyZWF0ZWQtYXQnIH0pICsgJyAnICsgQ2xvY2sudG9SZWFkYWJsZVRpbWUoeyB0aW1lc3RhbXA6IHBhcnNlSW50KG1hbmlmZXN0LmNyZWF0ZWRBdCkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogSTE4bi50KHsga2V5OiAndXBkYXRlZC1hdCcgfSkgKyAnICcgKyBDbG9jay50b1JlYWRhYmxlVGltZSh7IHRpbWVzdGFtcDogcGFyc2VJbnQobWFuaWZlc3QudXBkYXRlZEF0KSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IEkxOG4udCh7IGtleTogJ3JlYWN0aXZlLXVpJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtYW5pZmVzdC50cmlnZ2VyLnJlY2VpdmVIYW5kbGVyID8gSTE4bi50KHsga2V5OiAnZW5hYmxlZCcgfSkgOiBJMThuLnQoeyBrZXk6ICdkaXNhYmxlZCcgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NpemVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBJMThuLnQoeyBrZXk6ICdpbnN0YWxsJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBQbHVnaW5Ub29sa2l0LmRvd25sb2FkQW5kSW5zdGFsbFBsdWdpblBhY2soeyBtYW5pZmVzdDogbWFuaWZlc3QgfSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9KTsgfV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IEkxOG4udCh7IGtleTogJ3dlYnNpdGUnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtmdW5jdGlvbiAoKSB7IHJldHVybiBJTy5vcGVuUGFnZUluTmV3VGFiKHsgdXJsOiBtYW5pZmVzdC53ZWJzaXRlLCBtYW5pZmVzdDogX3RoaXMubWFuaWZlc3QgfSk7IH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBJMThuLnQoeyBrZXk6ICdjYW5jZWwnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtmdW5jdGlvbiAoKSB7IHJldHVybiBNYW5hZ2VyLnVubW91bnRVSSh7IHRyYWNrZXI6IGRldGFpbFBhbmVsVHJhY2tlciB9KTsgfV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSwgc2xvdDogJ3BsdWdpbnMnXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUGx1Z2luU3RvcmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRhdGEudHlwZSA9PT0gJ3BsdWdpblN0YXJ0ZWQnKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShkYXRhLm1hbmlmZXN0LmlkID09PSB0aGlzLm1hbmlmZXN0LmlkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMkxvYWRlci5kcmF3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnVwZGF0ZUNhbnZhcyh7fSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXIgPSBkYXRhLmhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrZXIgPSBNYW5hZ2VyLnJlbmRlclVJKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzLCBzbG90OiB0aGlzLmhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQUNFVjJMb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUGx1Z2luU3RvcmU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgbmV3IFBsdWdpblN0b3JlKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/PluginStore.ts\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("11066b641716ec38af88")
/******/ })();
/******/ 
/******/ }
);