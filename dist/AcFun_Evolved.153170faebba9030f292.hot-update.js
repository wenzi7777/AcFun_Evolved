"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateacfun_evolved"]("AcFun_Evolved",{

/***/ "./src/plugins/PluginStore.ts":
/*!************************************!*\
  !*** ./src/plugins/PluginStore.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _core_services_IPC__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/services/IPC */ \"./src/core/services/IPC.ts\");\n/* harmony import */ var _ui_Manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/Manager */ \"./src/ui/Manager.tsx\");\n/* harmony import */ var _ACEV2Loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ACEV2Loader */ \"./src/plugins/ACEV2Loader.ts\");\n/* harmony import */ var _core_api_IO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/api/IO */ \"./src/core/api/IO.ts\");\n/* harmony import */ var _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/api/Variable */ \"./src/core/api/Variable.ts\");\n/* harmony import */ var _ui_assets_pluginStore_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/assets/pluginStore.svg */ \"./src/ui/assets/pluginStore.svg\");\n/* harmony import */ var _ui_assets_default_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/assets/default.svg */ \"./src/ui/assets/default.svg\");\n/* harmony import */ var _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/api/I18n */ \"./src/core/api/I18n.ts\");\n/* harmony import */ var _core_services_Clock__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/services/Clock */ \"./src/core/services/Clock.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\nvar PluginStore = /** @class */ (function () {\n    function PluginStore() {\n        this.manifest = {\n            icon: _ui_assets_pluginStore_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n            name: 'Plugin Store',\n            id: '@wenzi7777/acev2_plugin_store',\n            versions: ['0.0.1'],\n            description: 'AcFun Evolved V2 插件商店。',\n            createdAt: new Date('2024-08-09').getTime() + '',\n            updatedAt: new Date().getTime() + '',\n            author: 'wenzi7777',\n            copyright: '(c)2024 wenzi7777, licensed under the MIT License.',\n            requestedAPIs: [],\n            website: 'https://acev2.1205.moe/',\n            trigger: {\n                receiveHandler: true,\n                matches: ['*']\n            }\n        };\n        this.handler = '';\n        this.tracker = '';\n        this.canvas = [];\n        this.currentPage = 1;\n        this.totalPages = 10;\n        this.bigManifest = null;\n    }\n    PluginStore.prototype.wakeUp = function () {\n        var _this = this;\n        _core_services_IPC__WEBPACK_IMPORTED_MODULE_0__[\"default\"].listen({ channel: 'runtime:launchpad', handler: function (data) { return _this.render(data); }, manifest: this.manifest });\n    };\n    PluginStore.prototype.getBigManifest = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, items;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = this;\n                        return [4 /*yield*/, _core_api_IO__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getJson({ url: _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].bigManifestURL() })];\n                    case 1:\n                        _a.bigManifest = _c.sent();\n                        items = (_b = this.bigManifest) === null || _b === void 0 ? void 0 : _b.length;\n                        this.totalPages = Math.ceil(items || 1 / _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE);\n                        this.currentPage = 1;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PluginStore.prototype.updateCanvas = function (_a) {\n        return __awaiter(this, arguments, void 0, function (_b) {\n            var newAppList;\n            var _this = this;\n            var _c, _d, _e;\n            var currentPage = _b.currentPage, totalPages = _b.totalPages;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, this.getBigManifest()];\n                    case 1:\n                        _f.sent();\n                        if (((_c = this.bigManifest) === null || _c === void 0 ? void 0 : _c.length) > _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE) {\n                            this.bigManifest = (_d = this.bigManifest) === null || _d === void 0 ? void 0 : _d.slice((this.currentPage - 1) * _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE, this.currentPage * _core_api_Variable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].PAGE_SIZE);\n                        }\n                        newAppList = [\n                            {\n                                type: 'sizer',\n                                styleObject: {\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    justifyContent: 'space-between',\n                                    alignItems: 'center',\n                                    width: '100%',\n                                    height: '100%'\n                                },\n                                children: (_e = this.bigManifest) === null || _e === void 0 ? void 0 : _e.map(function (item) {\n                                    var icon = item.icon;\n                                    var isSVG = icon.startsWith('<svg');\n                                    var isDefaultIcon = icon === 'default';\n                                    var src = isSVG ? icon : isDefaultIcon ? _ui_assets_default_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"] : icon;\n                                    return {\n                                        type: 'sizer',\n                                        styleObject: {\n                                            width: '100%',\n                                            display: 'flex',\n                                            justifyContent: 'space-between',\n                                            alignItems: 'center',\n                                            margin: '10px',\n                                            cursor: 'pointer'\n                                        },\n                                        events: [\n                                            {\n                                                event: 'click',\n                                                handler: function () {\n                                                    console.log(item);\n                                                }\n                                            }\n                                        ],\n                                        children: [\n                                            {\n                                                type: 'image',\n                                                src: src,\n                                                asHTML: isSVG\n                                            },\n                                            {\n                                                type: 'text',\n                                                label: item.name + ' ' + item.id,\n                                                text: item.description\n                                            }\n                                        ]\n                                    };\n                                })\n                            }\n                        ];\n                        this.canvas = [\n                            {\n                                type: 'sizer',\n                                styleObject: {\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    alignItems: 'center',\n                                    width: '100%',\n                                    height: '80%',\n                                    flexGrow: 1\n                                },\n                                children: newAppList\n                            },\n                            {\n                                type: 'sizer',\n                                styleObject: {\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    alignItems: 'center',\n                                    width: '100%',\n                                    height: '20%',\n                                    flexGrow: 1\n                                },\n                                children: [\n                                    {\n                                        type: 'pagination',\n                                        currentPage: currentPage || this.currentPage,\n                                        totalPages: totalPages || this.totalPages,\n                                        onPageChange: function (page) { return _this.currentPage += 1; }\n                                    }\n                                ]\n                            },\n                        ];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PluginStore.prototype.openDetailsPanel = function (_a) {\n        var manifest = _a.manifest;\n        var icon = manifest.icon;\n        var isSVG = icon.startsWith('<svg');\n        var isDefaultIcon = icon === 'default';\n        var src = isSVG ? icon : isDefaultIcon ? _ui_assets_default_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"] : icon;\n        var detailPanelTracker = _ui_Manager__WEBPACK_IMPORTED_MODULE_1__.Manager.renderUI({\n            canvas: [\n                {\n                    type: 'sizer',\n                    styleObject: {\n                        zIndex: 99,\n                        position: 'absolute',\n                        left: '50%',\n                        top: '50%',\n                        transform: 'translate(-50%, -50%)',\n                        maxWidth: '70vw',\n                        maxHeight: '60vh'\n                    },\n                    filled: true,\n                    draggable: true,\n                    children: [\n                        {\n                            type: 'sizer',\n                            styleObject: {\n                                display: 'flex',\n                                flexDirection: 'column',\n                                gap: '1vh',\n                                alignItems: 'center',\n                                justifyContent: 'space-around',\n                                padding: '1vw'\n                            },\n                            children: [\n                                {\n                                    type: 'sizer',\n                                    styleObject: {\n                                        display: 'flex',\n                                        justifyContent: 'space-between',\n                                        alignItems: 'center',\n                                    },\n                                    children: [\n                                        {\n                                            type: 'sizer',\n                                            styleObject: {\n                                                width: '32px',\n                                                height: '32px'\n                                            },\n                                            children: [\n                                                {\n                                                    type: 'image',\n                                                    asHTML: isSVG,\n                                                    src: src\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            type: 'text',\n                                            label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'developer' }) + ' ' + manifest.author,\n                                            text: manifest.name + ' | ' + manifest.id,\n                                        }\n                                    ]\n                                },\n                                {\n                                    type: 'sizer',\n                                    styleObject: {\n                                        display: 'flex',\n                                        flexDirection: 'column',\n                                        justifyContent: 'flex-start',\n                                        alignItems: 'center'\n                                    },\n                                    children: [\n                                        {\n                                            type: 'text',\n                                            text: manifest.description\n                                        },\n                                        {\n                                            type: 'text',\n                                            text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'latest-version' }) + ' ' + manifest.versions[manifest.versions.length - 1]\n                                        },\n                                        {\n                                            type: 'text',\n                                            label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'requested-apis' }),\n                                            text: manifest.requestedAPIs.join(', ')\n                                        },\n                                        {\n                                            type: 'text',\n                                            label: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'created-at' }) + _core_services_Clock__WEBPACK_IMPORTED_MODULE_8__[\"default\"].toReadableTime({ timestamp: parseInt(manifest.createdAt) }),\n                                            text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'updated-at' }) + _core_services_Clock__WEBPACK_IMPORTED_MODULE_8__[\"default\"].toReadableTime({ timestamp: parseInt(manifest.updatedAt) })\n                                        }\n                                    ]\n                                },\n                                {\n                                    type: 'sizer',\n                                    size: {\n                                        width: 17,\n                                        height: 3\n                                    },\n                                    children: [\n                                        {\n                                            type: 'sizer',\n                                            size: {\n                                                width: 8,\n                                                height: 3\n                                            },\n                                            children: [{\n                                                    type: 'button',\n                                                    text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'install' }),\n                                                    actions: [function () { return console.log(manifest); }]\n                                                }]\n                                        },\n                                        {\n                                            type: 'sizer',\n                                            size: {\n                                                width: 8,\n                                                height: 3\n                                            },\n                                            children: [{\n                                                    type: 'button',\n                                                    text: _core_api_I18n__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t({ key: 'cancel' }),\n                                                    actions: [function () { return _ui_Manager__WEBPACK_IMPORTED_MODULE_1__.Manager.unmountUI({ tracker: detailPanelTracker }); }]\n                                                }]\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ], slot: 'plugins'\n        });\n    };\n    PluginStore.prototype.render = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(data.type === 'pluginStarted')) return [3 /*break*/, 2];\n                        if (!(data.manifest.id === this.manifest.id)) return [3 /*break*/, 2];\n                        _ACEV2Loader__WEBPACK_IMPORTED_MODULE_2__[\"default\"].draw();\n                        return [4 /*yield*/, this.updateCanvas({})];\n                    case 1:\n                        _a.sent();\n                        this.handler = data.handler;\n                        this.tracker = _ui_Manager__WEBPACK_IMPORTED_MODULE_1__.Manager.renderUI({\n                            canvas: this.canvas, slot: this.handler\n                        });\n                        _ACEV2Loader__WEBPACK_IMPORTED_MODULE_2__[\"default\"].destroy();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return PluginStore;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new PluginStore());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9QbHVnaW5TdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDdUM7QUFDQztBQUNBO0FBQ1I7QUFDWTtBQUNlO0FBQ1I7QUFDZjtBQUNPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrRUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDBEQUFHLFVBQVUseURBQXlELDRCQUE0QiwyQkFBMkI7QUFDckk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG9EQUFFLFdBQVcsS0FBSywwREFBUSxtQkFBbUI7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLDBEQUFRO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLDBEQUFRO0FBQy9HLDhJQUE4SSwwREFBUSwrQkFBK0IsMERBQVE7QUFDN0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSw4REFBVztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsOERBQVc7QUFDNUQsaUNBQWlDLGdEQUFPO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0EsbURBQW1ELHNEQUFJLEtBQUssa0JBQWtCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0Esa0RBQWtELHNEQUFJLEtBQUssdUJBQXVCO0FBQ2xGLHlDQUF5QztBQUN6QztBQUNBO0FBQ0EsbURBQW1ELHNEQUFJLEtBQUssdUJBQXVCO0FBQ25GO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQSxtREFBbUQsc0RBQUksS0FBSyxtQkFBbUIsSUFBSSw0REFBSyxrQkFBa0IseUNBQXlDO0FBQ25KLGtEQUFrRCxzREFBSSxLQUFLLG1CQUFtQixJQUFJLDREQUFLLGtCQUFrQix5Q0FBeUM7QUFDbEo7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0EsMERBQTBELHNEQUFJLEtBQUssZ0JBQWdCO0FBQ25GLDRFQUE0RSwrQkFBK0I7QUFDM0csaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQSwwREFBMEQsc0RBQUksS0FBSyxlQUFlO0FBQ2xGLDRFQUE0RSxPQUFPLGdEQUFPLGFBQWEsNkJBQTZCLElBQUk7QUFDeEksaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvREFBVztBQUNuQyxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGdEQUFPO0FBQzlDO0FBQ0EseUJBQXlCO0FBQ3pCLHdCQUF3QixvREFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUVBQWUsaUJBQWlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY2Z1bl9ldm9sdmVkLy4vc3JjL3BsdWdpbnMvUGx1Z2luU3RvcmUudHM/MTQ0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgSVBDIGZyb20gXCIuLi9jb3JlL3NlcnZpY2VzL0lQQ1wiO1xuaW1wb3J0IHsgTWFuYWdlciB9IGZyb20gXCIuLi91aS9NYW5hZ2VyXCI7XG5pbXBvcnQgQUNFVjJMb2FkZXIgZnJvbSBcIi4vQUNFVjJMb2FkZXJcIjtcbmltcG9ydCBJTyBmcm9tIFwiLi4vY29yZS9hcGkvSU9cIjtcbmltcG9ydCBWYXJpYWJsZSBmcm9tIFwiLi4vY29yZS9hcGkvVmFyaWFibGVcIjtcbmltcG9ydCBwbHVnaW5TdG9yZUljb24gZnJvbSAnLi4vdWkvYXNzZXRzL3BsdWdpblN0b3JlLnN2Zyc7XG5pbXBvcnQgZGVmYXVsdEljb24gZnJvbSBcIi4uL3VpL2Fzc2V0cy9kZWZhdWx0LnN2Z1wiO1xuaW1wb3J0IEkxOG4gZnJvbSBcIi4uL2NvcmUvYXBpL0kxOG5cIjtcbmltcG9ydCBDbG9jayBmcm9tIFwiLi4vY29yZS9zZXJ2aWNlcy9DbG9ja1wiO1xudmFyIFBsdWdpblN0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBsdWdpblN0b3JlKCkge1xuICAgICAgICB0aGlzLm1hbmlmZXN0ID0ge1xuICAgICAgICAgICAgaWNvbjogcGx1Z2luU3RvcmVJY29uLFxuICAgICAgICAgICAgbmFtZTogJ1BsdWdpbiBTdG9yZScsXG4gICAgICAgICAgICBpZDogJ0B3ZW56aTc3NzcvYWNldjJfcGx1Z2luX3N0b3JlJyxcbiAgICAgICAgICAgIHZlcnNpb25zOiBbJzAuMC4xJ10sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FjRnVuIEV2b2x2ZWQgVjIg5o+S5Lu25ZWG5bqX44CCJyxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoJzIwMjQtMDgtMDknKS5nZXRUaW1lKCkgKyAnJyxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS5nZXRUaW1lKCkgKyAnJyxcbiAgICAgICAgICAgIGF1dGhvcjogJ3dlbnppNzc3NycsXG4gICAgICAgICAgICBjb3B5cmlnaHQ6ICcoYykyMDI0IHdlbnppNzc3NywgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLicsXG4gICAgICAgICAgICByZXF1ZXN0ZWRBUElzOiBbXSxcbiAgICAgICAgICAgIHdlYnNpdGU6ICdodHRwczovL2FjZXYyLjEyMDUubW9lLycsXG4gICAgICAgICAgICB0cmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZUhhbmRsZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF0Y2hlczogWycqJ11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gJyc7XG4gICAgICAgIHRoaXMudHJhY2tlciA9ICcnO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gMTA7XG4gICAgICAgIHRoaXMuYmlnTWFuaWZlc3QgPSBudWxsO1xuICAgIH1cbiAgICBQbHVnaW5TdG9yZS5wcm90b3R5cGUud2FrZVVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBJUEMubGlzdGVuKHsgY2hhbm5lbDogJ3J1bnRpbWU6bGF1bmNocGFkJywgaGFuZGxlcjogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIF90aGlzLnJlbmRlcihkYXRhKTsgfSwgbWFuaWZlc3Q6IHRoaXMubWFuaWZlc3QgfSk7XG4gICAgfTtcbiAgICBQbHVnaW5TdG9yZS5wcm90b3R5cGUuZ2V0QmlnTWFuaWZlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgaXRlbXM7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBJTy5nZXRKc29uKHsgdXJsOiBWYXJpYWJsZS5iaWdNYW5pZmVzdFVSTCgpIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EuYmlnTWFuaWZlc3QgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IChfYiA9IHRoaXMuYmlnTWFuaWZlc3QpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSBNYXRoLmNlaWwoaXRlbXMgfHwgMSAvIFZhcmlhYmxlLlBBR0VfU0laRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQbHVnaW5TdG9yZS5wcm90b3R5cGUudXBkYXRlQ2FudmFzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgYXJndW1lbnRzLCB2b2lkIDAsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgdmFyIG5ld0FwcExpc3Q7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2UgPSBfYi5jdXJyZW50UGFnZSwgdG90YWxQYWdlcyA9IF9iLnRvdGFsUGFnZXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9mKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfZi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0QmlnTWFuaWZlc3QoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKF9jID0gdGhpcy5iaWdNYW5pZmVzdCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmxlbmd0aCkgPiBWYXJpYWJsZS5QQUdFX1NJWkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJpZ01hbmlmZXN0ID0gKF9kID0gdGhpcy5iaWdNYW5pZmVzdCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNsaWNlKCh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiBWYXJpYWJsZS5QQUdFX1NJWkUsIHRoaXMuY3VycmVudFBhZ2UgKiBWYXJpYWJsZS5QQUdFX1NJWkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXBwTGlzdCA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogKF9lID0gdGhpcy5iaWdNYW5pZmVzdCkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljb24gPSBpdGVtLmljb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNTVkcgPSBpY29uLnN0YXJ0c1dpdGgoJzxzdmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0RlZmF1bHRJY29uID0gaWNvbiA9PT0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IGlzU1ZHID8gaWNvbiA6IGlzRGVmYXVsdEljb24gPyBkZWZhdWx0SWNvbiA6IGljb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdjbGljaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzSFRNTDogaXNTVkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSArICcgJyArIGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc4MCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleEdyb3c6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IG5ld0FwcExpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NpemVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzIwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4R3JvdzogMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYWdpbmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UgfHwgdGhpcy5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiB0b3RhbFBhZ2VzIHx8IHRoaXMudG90YWxQYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBfdGhpcy5jdXJyZW50UGFnZSArPSAxOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQbHVnaW5TdG9yZS5wcm90b3R5cGUub3BlbkRldGFpbHNQYW5lbCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgbWFuaWZlc3QgPSBfYS5tYW5pZmVzdDtcbiAgICAgICAgdmFyIGljb24gPSBtYW5pZmVzdC5pY29uO1xuICAgICAgICB2YXIgaXNTVkcgPSBpY29uLnN0YXJ0c1dpdGgoJzxzdmcnKTtcbiAgICAgICAgdmFyIGlzRGVmYXVsdEljb24gPSBpY29uID09PSAnZGVmYXVsdCc7XG4gICAgICAgIHZhciBzcmMgPSBpc1NWRyA/IGljb24gOiBpc0RlZmF1bHRJY29uID8gZGVmYXVsdEljb24gOiBpY29uO1xuICAgICAgICB2YXIgZGV0YWlsUGFuZWxUcmFja2VyID0gTWFuYWdlci5yZW5kZXJVSSh7XG4gICAgICAgICAgICBjYW52YXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDk5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICc3MHZ3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogJzYwdmgnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZpbGxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnMXZoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzF2dydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICczMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzMycHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc0hUTUw6IGlzU1ZHLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogc3JjXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogSTE4bi50KHsga2V5OiAnZGV2ZWxvcGVyJyB9KSArICcgJyArIG1hbmlmZXN0LmF1dGhvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWFuaWZlc3QubmFtZSArICcgfCAnICsgbWFuaWZlc3QuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG1hbmlmZXN0LmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogSTE4bi50KHsga2V5OiAnbGF0ZXN0LXZlcnNpb24nIH0pICsgJyAnICsgbWFuaWZlc3QudmVyc2lvbnNbbWFuaWZlc3QudmVyc2lvbnMubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogSTE4bi50KHsga2V5OiAncmVxdWVzdGVkLWFwaXMnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtYW5pZmVzdC5yZXF1ZXN0ZWRBUElzLmpvaW4oJywgJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogSTE4bi50KHsga2V5OiAnY3JlYXRlZC1hdCcgfSkgKyBDbG9jay50b1JlYWRhYmxlVGltZSh7IHRpbWVzdGFtcDogcGFyc2VJbnQobWFuaWZlc3QuY3JlYXRlZEF0KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogSTE4bi50KHsga2V5OiAndXBkYXRlZC1hdCcgfSkgKyBDbG9jay50b1JlYWRhYmxlVGltZSh7IHRpbWVzdGFtcDogcGFyc2VJbnQobWFuaWZlc3QudXBkYXRlZEF0KSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NpemVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IEkxOG4udCh7IGtleTogJ2luc3RhbGwnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtmdW5jdGlvbiAoKSB7IHJldHVybiBjb25zb2xlLmxvZyhtYW5pZmVzdCk7IH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2l6ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBJMThuLnQoeyBrZXk6ICdjYW5jZWwnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtmdW5jdGlvbiAoKSB7IHJldHVybiBNYW5hZ2VyLnVubW91bnRVSSh7IHRyYWNrZXI6IGRldGFpbFBhbmVsVHJhY2tlciB9KTsgfV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSwgc2xvdDogJ3BsdWdpbnMnXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUGx1Z2luU3RvcmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRhdGEudHlwZSA9PT0gJ3BsdWdpblN0YXJ0ZWQnKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShkYXRhLm1hbmlmZXN0LmlkID09PSB0aGlzLm1hbmlmZXN0LmlkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBBQ0VWMkxvYWRlci5kcmF3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnVwZGF0ZUNhbnZhcyh7fSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXIgPSBkYXRhLmhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrZXIgPSBNYW5hZ2VyLnJlbmRlclVJKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzLCBzbG90OiB0aGlzLmhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQUNFVjJMb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUGx1Z2luU3RvcmU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgbmV3IFBsdWdpblN0b3JlKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/PluginStore.ts\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("165ba7187d505d3fa739")
/******/ })();
/******/ 
/******/ }
);